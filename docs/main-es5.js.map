{"version":3,"mappings":"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,6FALA;AAAA,oBAMAO,sCANA;AAAA,oBAOAtD,wEAPA;AAAA,oBAQAY,qDARA;AAAA,oBASAC,wHATA;AAAA,oBAUAC,6CAVA;AAAA,oBAWAC,gHAXA;AAAA,oBAYAC,6CAZA;AAAA,oBAaAC,+EAbA;AAAA,oBAcAC,8CAdA;AAAA,oBAeAC,iFAfA;AAAA,oBAgBAC,+CAhBA;AAAA,oBAiBAC,6FAjBA;AAmBA;AACAyB,sCADA;AAEA5C,wCAFA;AAGA6C,gCAHA;AAIA/C,sCAJA;AAKAa,8DALA;AAMAE,8CANA;AAOAE,8CAPA;AAQAE,8CARA;AASAE;AATA;AAYA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEAhB;AACAC,oCADA;AAEAT;AACA;AAEA;;AACA;AACAU;AACA;;AAEA;AACA;AAXA,iBAYK;AACLD,oCADK;AAELT;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAZK,eAZL,EAyBK;AACLS,mCADK;AAELT;AACA;AACA;AAJK,eAzBL,EA8BK;AACLS,oCADK;AAELT;AACA;AACA;AACA,iBALK,CAOL;AACA;;AARK,eA9BL,EAwCK;AACLS,kCADK;AAELT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;AAEA;AACA;;AAEA;AACAY;AACA,uBAFA,MAEc;AACdA;AACA;;AAEA;AACAC;AACA,uBAFA,MAEc;AACdA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACAiD;AACA,qBAFA,MAEY;AACZA;AACA;;AAEA;AACAC;AACA,qBAFA,MAEY;AACZA;AACA;AACA;;AAEA;AACA;AACA;AAvDK,eAxCL,EAgGK;AACLtD,sDADK;AAELT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATK,eAhGL,EA0GK;AACLS,2BADK;AAELT;AACA;;AACA;AAEA;AACA;AAEA;;AACA;;AACA;;AAEA;AACA;AACA,mBAFA,MAEU;AACV;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AAxBK,eA1GL,EAmIK;AACLS,kCADK;AAELT;AACA;AACA;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","names":["e","webpackEmptyAsyncContext","module","undefined","require","exports","p","r","n","t","i","o","Object","value","descriptor","_classCallCheck","namespace","_options$zoomFactor","zoomFactor","_options$containerEl","containerEl","_createClass","key","classes","style","inlineLeft","inlineTop","_this","_options$showWhitespa","showWhitespaceAtEdges","_options$containInlin","containInline","_options$inlineOffset","inlineOffsetX","_options$inlineOffset2","inlineOffsetY","_options$inlineContai","inlineContainer","_options$sourceAttrib","sourceAttribute","_options$paneContaine","paneContainer","_options$inlinePane","inlinePane","_options$handleTouch","handleTouch","_options$onShow","onShow","_options$onHide","onHide","_options$injectBaseSt","injectBaseStyles","_options$hoverDelay","hoverDelay","_options$touchDelay","touchDelay","_options$hoverBoundin","hoverBoundingBox","_options$touchBoundin","touchBoundingBox","_options$boundingBoxC","boundingBoxContainer","container","inline","el","zoomPane","get","set","_initialiseProps","_options$zoomPane","_options$namespace","clearTimeout","movementY","movementX","_options$inline","left","top","styleEl","head","classNames","routes","path","component","_pages_authors_authors_component__WEBPACK_IMPORTED_MODULE_1__","_pages_workcited_workscited_component__WEBPACK_IMPORTED_MODULE_2__","loadChildren","__webpack_require__","then","mod","FiguresModule","_pages_main_main_component__WEBPACK_IMPORTED_MODULE_0__","pathMatch","redirectTo","AppRoutingModule","_angular_router__WEBPACK_IMPORTED_MODULE_4__","relativeLinkResolution","imports","AppComponent","selectors","decls","vars","template","_angular_core__WEBPACK_IMPORTED_MODULE_1__","AppModule","bootstrap","_app_component__WEBPACK_IMPORTED_MODULE_1__","provide","_angular_common__WEBPACK_IMPORTED_MODULE_13__","useFactory","s","getBaseHrefFromDOM","deps","_angular_platform_browser__WEBPACK_IMPORTED_MODULE_14__","_modules_shared_shared_module__WEBPACK_IMPORTED_MODULE_11__","_app_routing_module__WEBPACK_IMPORTED_MODULE_0__","declarations","_components_header_header_component__WEBPACK_IMPORTED_MODULE_2__","_pages_main_main_component__WEBPACK_IMPORTED_MODULE_3__","_components_jumbo_title_jumbo_title_component__WEBPACK_IMPORTED_MODULE_4__","_pages_authors_authors_component__WEBPACK_IMPORTED_MODULE_5__","_pages_workcited_workscited_component__WEBPACK_IMPORTED_MODULE_6__","_components_scroller_scroller_component__WEBPACK_IMPORTED_MODULE_7__","_directives_tippy_directive__WEBPACK_IMPORTED_MODULE_8__","_directives_luminous_lightbox_directive__WEBPACK_IMPORTED_MODULE_9__","_directives_driftzoom_directive__WEBPACK_IMPORTED_MODULE_10__","HeaderComponent","consts","_angular_core__WEBPACK_IMPORTED_MODULE_0__","JumboTitleComponent","getNativeElement","nativeElement","getDriftInstance","directive","drift","ScrollerComponent","breakpointObserver","observe","_angular_cdk_layout__WEBPACK_IMPORTED_MODULE_4__","pipe","result","matches","rxjs__WEBPACK_IMPORTED_MODULE_6__","driftZoomRefs","scrollGraphic","scrollGraphicRef","scrollText","scrollTextRef","chart","chartRef","buildRefArrays","initScrollama","windowResizeListener","destroy$","next","complete","graphic","text","stepHeight","Math","floor","window","innerHeight","stepRefs","forEach","singleStep","marginBottom","height","textWidth","offsetWidth","bodyWidth","document","body","chartWidth","chartHeight","width","driftInstanceRefs","triggerEl","classList","contains","scroller","resize","resizeListener","subscribe","handleResize","bind","steps","map","imageRefs","driftZoomInstances","dir","scrollama__WEBPACK_IMPORTED_MODULE_0___default","setup","scrollContainerRef","step","offset","onStepEnter","element","response","index","direction","add","Number","dataset","remove","onContainerEnter","onContainerExit","_angular_core__WEBPACK_IMPORTED_MODULE_9__","viewQuery","src_app_directives_driftzoom_directive__WEBPACK_IMPORTED_MODULE_1__","options","DriftzoomDirective","refs","src_assets_scripts_Drift__WEBPACK_IMPORTED_MODULE_0___default","opacity","toggle","background","inputs","caption","openTrigger","closeTrigger","closeWithEscape","closeOnScroll","appendToSelector","onOpen","onClose","includeImgixJSClass","LuminousLightboxDirective","luminous_lightbox__WEBPACK_IMPORTED_MODULE_0__","tippyOptions","arrow","size","interactive","placement","delay","TippyDirective","HeadingComponent","_title","ngContentSelectors","SectionComponent","SharedModule","_angular_common__WEBPACK_IMPORTED_MODULE_3__","_components_section_section_component__WEBPACK_IMPORTED_MODULE_0__","_components_heading_heading_component__WEBPACK_IMPORTED_MODULE_1__","AuthorsPageComponent","MainPageComponent","_angular_core__WEBPACK_IMPORTED_MODULE_3__","WorksCitedPageComponent","environment","production","_environments_environment__WEBPACK_IMPORTED_MODULE_2__","_angular_platform_browser__WEBPACK_IMPORTED_MODULE_4__","bootstrapModule","_app_app_module__WEBPACK_IMPORTED_MODULE_1__","console","error","err"],"sources":["webpack:///$_lazy_route_resources|lazy|groupOptions:%20%7B%7D|namespace%20object","webpack:///src/assets/scripts/Drift.js","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/components/header/header.component.ts","webpack:///src/app/components/header/header.component.html","webpack:///src/app/components/jumbo-title/jumbo-title.component.ts","webpack:///src/app/components/jumbo-title/jumbo-title.component.html","webpack:///src/app/components/scroller/scroller.component.ts","webpack:///src/app/components/scroller/scroller.component.html","webpack:///src/app/directives/driftzoom.directive.ts","webpack:///src/app/directives/luminous-lightbox.directive.ts","webpack:///src/app/directives/tippy.directive.ts","webpack:///src/app/modules/shared/components/heading/heading.component.ts","webpack:///src/app/modules/shared/components/section/section.component.ts","webpack:///src/app/modules/shared/components/section/section.component.html","webpack:///src/app/modules/shared/shared.module.ts","webpack:///src/app/pages/authors/authors.component.ts","webpack:///src/app/pages/authors/authors.component.html","webpack:///src/app/pages/main/main.component.ts","webpack:///src/app/pages/main/main.component.html","webpack:///src/app/pages/workcited/workscited.component.ts","webpack:///src/app/pages/workcited/workscited.component.html","webpack:///src/environments/environment.ts","webpack:///src/main.ts"],"sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 98255;\nmodule.exports = webpackEmptyAsyncContext;","/*\r\n  This is a modified version of imgix/drift-zoom by Benjamin Liden.\r\n  v1.2.2 is used to bypass the bad zoomFactor setter in v1.3+,\r\n  this version checks for this.boundingBox before updating its settings\r\n  when zoomFactor is changed on ln.336\r\n\r\n  hopefully i can contribute upstream when time allows\r\n*/\r\n\r\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.Drift = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\r\n  \"use strict\";\r\n  \r\n  Object.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n  });\r\n  \r\n  var _createClass = function () {\r\n    function defineProperties(target, props) {\r\n      for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\r\n      }\r\n    }return function (Constructor, protoProps, staticProps) {\r\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\r\n    };\r\n  }();\r\n  \r\n  var _throwIfMissing = require(\"./util/throwIfMissing\");\r\n  \r\n  var _throwIfMissing2 = _interopRequireDefault(_throwIfMissing);\r\n  \r\n  var _dom = require(\"./util/dom\");\r\n  \r\n  function _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : { default: obj };\r\n  }\r\n  \r\n  function _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n      throw new TypeError(\"Cannot call a class as a function\");\r\n    }\r\n  }\r\n  \r\n  var BoundingBox = function () {\r\n    function BoundingBox(options) {\r\n      _classCallCheck(this, BoundingBox);\r\n  \r\n      this.isShowing = false;\r\n  \r\n      var _options$namespace = options.namespace,\r\n          namespace = _options$namespace === undefined ? null : _options$namespace,\r\n          _options$zoomFactor = options.zoomFactor,\r\n          zoomFactor = _options$zoomFactor === undefined ? (0, _throwIfMissing2.default)() : _options$zoomFactor,\r\n          _options$containerEl = options.containerEl,\r\n          containerEl = _options$containerEl === undefined ? (0, _throwIfMissing2.default)() : _options$containerEl;\r\n  \r\n      this.settings = { namespace: namespace, zoomFactor: zoomFactor, containerEl: containerEl };\r\n  \r\n      this.openClasses = this._buildClasses(\"open\");\r\n  \r\n      this._buildElement();\r\n    }\r\n  \r\n    _createClass(BoundingBox, [{\r\n      key: \"_buildClasses\",\r\n      value: function _buildClasses(suffix) {\r\n        var classes = [\"drift-\" + suffix];\r\n  \r\n        var ns = this.settings.namespace;\r\n        if (ns) {\r\n          classes.push(ns + \"-\" + suffix);\r\n        }\r\n  \r\n        return classes;\r\n      }\r\n    }, {\r\n      key: \"_buildElement\",\r\n      value: function _buildElement() {\r\n        this.el = document.createElement(\"div\");\r\n        (0, _dom.addClasses)(this.el, this._buildClasses(\"bounding-box\"));\r\n      }\r\n    }, {\r\n      key: \"show\",\r\n      value: function show(zoomPaneWidth, zoomPaneHeight) {\r\n        this.isShowing = true;\r\n  \r\n        this.settings.containerEl.appendChild(this.el);\r\n  \r\n        var style = this.el.style;\r\n        style.width = Math.round(zoomPaneWidth / this.settings.zoomFactor) + \"px\";\r\n        style.height = Math.round(zoomPaneHeight / this.settings.zoomFactor) + \"px\";\r\n  \r\n        (0, _dom.addClasses)(this.el, this.openClasses);\r\n      }\r\n    }, {\r\n      key: \"hide\",\r\n      value: function hide() {\r\n        if (this.isShowing) {\r\n          this.settings.containerEl.removeChild(this.el);\r\n        }\r\n  \r\n        this.isShowing = false;\r\n  \r\n        (0, _dom.removeClasses)(this.el, this.openClasses);\r\n      }\r\n    }, {\r\n      key: \"setPosition\",\r\n      value: function setPosition(percentageOffsetX, percentageOffsetY, triggerRect) {\r\n        var pageXOffset = window.pageXOffset;\r\n        var pageYOffset = window.pageYOffset;\r\n  \r\n        var inlineLeft = triggerRect.left + percentageOffsetX * triggerRect.width - this.el.clientWidth / 2 + pageXOffset;\r\n        var inlineTop = triggerRect.top + percentageOffsetY * triggerRect.height - this.el.clientHeight / 2 + pageYOffset;\r\n  \r\n        var elRect = this.el.getBoundingClientRect();\r\n  \r\n        if (inlineLeft < triggerRect.left + pageXOffset) {\r\n          inlineLeft = triggerRect.left + pageXOffset;\r\n        } else if (inlineLeft + this.el.clientWidth > triggerRect.left + triggerRect.width + pageXOffset) {\r\n          inlineLeft = triggerRect.left + triggerRect.width - this.el.clientWidth + pageXOffset;\r\n        }\r\n  \r\n        if (inlineTop < triggerRect.top + pageYOffset) {\r\n          inlineTop = triggerRect.top + pageYOffset;\r\n        } else if (inlineTop + this.el.clientHeight > triggerRect.top + triggerRect.height + pageYOffset) {\r\n          inlineTop = triggerRect.top + triggerRect.height - this.el.clientHeight + pageYOffset;\r\n        }\r\n  \r\n        this.el.style.left = inlineLeft + \"px\";\r\n        this.el.style.top = inlineTop + \"px\";\r\n      }\r\n    }]);\r\n  \r\n    return BoundingBox;\r\n  }();\r\n  \r\n  exports.default = BoundingBox;\r\n  \r\n  },{\"./util/dom\":6,\"./util/throwIfMissing\":7}],2:[function(require,module,exports){\r\n  \"use strict\";\r\n  \r\n  var _createClass = function () {\r\n    function defineProperties(target, props) {\r\n      for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\r\n      }\r\n    }return function (Constructor, protoProps, staticProps) {\r\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\r\n    };\r\n  }();\r\n  \r\n  var _dom = require(\"./util/dom\");\r\n  \r\n  var _injectBaseStylesheet = require(\"./injectBaseStylesheet\");\r\n  \r\n  var _injectBaseStylesheet2 = _interopRequireDefault(_injectBaseStylesheet);\r\n  \r\n  var _Trigger = require(\"./Trigger\");\r\n  \r\n  var _Trigger2 = _interopRequireDefault(_Trigger);\r\n  \r\n  var _ZoomPane = require(\"./ZoomPane\");\r\n  \r\n  var _ZoomPane2 = _interopRequireDefault(_ZoomPane);\r\n  \r\n  function _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : { default: obj };\r\n  }\r\n  \r\n  function _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n      throw new TypeError(\"Cannot call a class as a function\");\r\n    }\r\n  }\r\n  \r\n  module.exports = function () {\r\n    function Drift(triggerEl) {\r\n      var _this = this;\r\n  \r\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\r\n  \r\n      _classCallCheck(this, Drift);\r\n  \r\n      this.VERSION = \"1.2.2\";\r\n  \r\n      this.destroy = function () {\r\n        _this.trigger._unbindEvents();\r\n      };\r\n  \r\n      this.triggerEl = triggerEl;\r\n  \r\n      if (!(0, _dom.isDOMElement)(this.triggerEl)) {\r\n        throw new TypeError(\"`new Drift` requires a DOM element as its first argument.\");\r\n      }\r\n  \r\n      // A bit unexpected if you haven't seen this pattern before.\r\n      // Based on the pattern here:\r\n      // https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&%20beyond/ch2.md#nested-defaults-destructured-and-restructured\r\n      var _options$namespace = options.namespace,\r\n          namespace = _options$namespace === undefined ? null : _options$namespace,\r\n          _options$showWhitespa = options.showWhitespaceAtEdges,\r\n          showWhitespaceAtEdges = _options$showWhitespa === undefined ? false : _options$showWhitespa,\r\n          _options$containInlin = options.containInline,\r\n          containInline = _options$containInlin === undefined ? false : _options$containInlin,\r\n          _options$inlineOffset = options.inlineOffsetX,\r\n          inlineOffsetX = _options$inlineOffset === undefined ? 0 : _options$inlineOffset,\r\n          _options$inlineOffset2 = options.inlineOffsetY,\r\n          inlineOffsetY = _options$inlineOffset2 === undefined ? 0 : _options$inlineOffset2,\r\n          _options$inlineContai = options.inlineContainer,\r\n          inlineContainer = _options$inlineContai === undefined ? document.body : _options$inlineContai,\r\n          _options$sourceAttrib = options.sourceAttribute,\r\n          sourceAttribute = _options$sourceAttrib === undefined ? \"data-zoom\" : _options$sourceAttrib,\r\n          _options$zoomFactor = options.zoomFactor,\r\n          zoomFactor = _options$zoomFactor === undefined ? 3 : _options$zoomFactor,\r\n          _options$paneContaine = options.paneContainer,\r\n          paneContainer = _options$paneContaine === undefined ? document.body : _options$paneContaine,\r\n          _options$inlinePane = options.inlinePane,\r\n          inlinePane = _options$inlinePane === undefined ? 375 : _options$inlinePane,\r\n          _options$handleTouch = options.handleTouch,\r\n          handleTouch = _options$handleTouch === undefined ? true : _options$handleTouch,\r\n          _options$onShow = options.onShow,\r\n          onShow = _options$onShow === undefined ? null : _options$onShow,\r\n          _options$onHide = options.onHide,\r\n          onHide = _options$onHide === undefined ? null : _options$onHide,\r\n          _options$injectBaseSt = options.injectBaseStyles,\r\n          injectBaseStyles = _options$injectBaseSt === undefined ? true : _options$injectBaseSt,\r\n          _options$hoverDelay = options.hoverDelay,\r\n          hoverDelay = _options$hoverDelay === undefined ? 0 : _options$hoverDelay,\r\n          _options$touchDelay = options.touchDelay,\r\n          touchDelay = _options$touchDelay === undefined ? 0 : _options$touchDelay,\r\n          _options$hoverBoundin = options.hoverBoundingBox,\r\n          hoverBoundingBox = _options$hoverBoundin === undefined ? false : _options$hoverBoundin,\r\n          _options$touchBoundin = options.touchBoundingBox,\r\n          touchBoundingBox = _options$touchBoundin === undefined ? false : _options$touchBoundin,\r\n          _options$boundingBoxC = options.boundingBoxContainer,\r\n          boundingBoxContainer = _options$boundingBoxC === undefined ? document.body : _options$boundingBoxC;\r\n  \r\n      if (inlinePane !== true && !(0, _dom.isDOMElement)(paneContainer)) {\r\n        throw new TypeError(\"`paneContainer` must be a DOM element when `inlinePane !== true`\");\r\n      }\r\n      if (!(0, _dom.isDOMElement)(inlineContainer)) {\r\n        throw new TypeError(\"`inlineContainer` must be a DOM element\");\r\n      }\r\n  \r\n      this.settings = {\r\n        namespace: namespace,\r\n        showWhitespaceAtEdges: showWhitespaceAtEdges,\r\n        containInline: containInline,\r\n        inlineOffsetX: inlineOffsetX,\r\n        inlineOffsetY: inlineOffsetY,\r\n        inlineContainer: inlineContainer,\r\n        sourceAttribute: sourceAttribute,\r\n        zoomFactor: zoomFactor,\r\n        paneContainer: paneContainer,\r\n        inlinePane: inlinePane,\r\n        handleTouch: handleTouch,\r\n        onShow: onShow,\r\n        onHide: onHide,\r\n        injectBaseStyles: injectBaseStyles,\r\n        hoverDelay: hoverDelay,\r\n        touchDelay: touchDelay,\r\n        hoverBoundingBox: hoverBoundingBox,\r\n        touchBoundingBox: touchBoundingBox,\r\n        boundingBoxContainer: boundingBoxContainer\r\n      };\r\n  \r\n      if (this.settings.injectBaseStyles) {\r\n        (0, _injectBaseStylesheet2.default)();\r\n      }\r\n  \r\n      this._buildZoomPane();\r\n      this._buildTrigger();\r\n    }\r\n  \r\n    _createClass(Drift, [{\r\n      key: \"_buildZoomPane\",\r\n      value: function _buildZoomPane() {\r\n        this.zoomPane = new _ZoomPane2.default({\r\n          container: this.settings.paneContainer,\r\n          zoomFactor: this.settings.zoomFactor,\r\n          showWhitespaceAtEdges: this.settings.showWhitespaceAtEdges,\r\n          containInline: this.settings.containInline,\r\n          inline: this.settings.inlinePane,\r\n          namespace: this.settings.namespace,\r\n          inlineOffsetX: this.settings.inlineOffsetX,\r\n          inlineOffsetY: this.settings.inlineOffsetY,\r\n          inlineContainer: this.settings.inlineContainer\r\n        });\r\n      }\r\n    }, {\r\n      key: \"_buildTrigger\",\r\n      value: function _buildTrigger() {\r\n        this.trigger = new _Trigger2.default({\r\n          el: this.triggerEl,\r\n          zoomPane: this.zoomPane,\r\n          handleTouch: this.settings.handleTouch,\r\n          onShow: this.settings.onShow,\r\n          onHide: this.settings.onHide,\r\n          sourceAttribute: this.settings.sourceAttribute,\r\n          hoverDelay: this.settings.hoverDelay,\r\n          touchDelay: this.settings.touchDelay,\r\n          hoverBoundingBox: this.settings.hoverBoundingBox,\r\n          touchBoundingBox: this.settings.touchBoundingBox,\r\n          namespace: this.settings.namespace,\r\n          zoomFactor: this.settings.zoomFactor,\r\n          boundingBoxContainer: this.settings.boundingBoxContainer\r\n        });\r\n      }\r\n    }, {\r\n      key: \"setZoomImageURL\",\r\n      value: function setZoomImageURL(imageURL) {\r\n        this.zoomPane._setImageURL(imageURL);\r\n      }\r\n    }, {\r\n      key: \"disable\",\r\n      value: function disable() {\r\n        this.trigger.enabled = false;\r\n      }\r\n    }, {\r\n      key: \"enable\",\r\n      value: function enable() {\r\n        this.trigger.enabled = true;\r\n      }\r\n    }, {\r\n      key: \"isShowing\",\r\n      get: function get() {\r\n        return this.zoomPane.isShowing;\r\n      }\r\n    }, {\r\n      key: \"zoomFactor\",\r\n      get: function get() {\r\n        return this.settings.zoomFactor;\r\n      },\r\n      set: function set(zf) {\r\n        this.settings.zoomFactor = zf;\r\n        this.zoomPane.settings.zoomFactor = zf;\r\n        this.trigger.settings.zoomFactor = zf;\r\n        if (this.boundingBox){\r\n          this.boundingBox.settings.zoomFactor = zf;\r\n        } \r\n      }\r\n    }]);\r\n  \r\n    return Drift;\r\n  }();\r\n  \r\n  },{\"./Trigger\":3,\"./ZoomPane\":4,\"./injectBaseStylesheet\":5,\"./util/dom\":6}],3:[function(require,module,exports){\r\n  \"use strict\";\r\n  \r\n  Object.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n  });\r\n  \r\n  var _createClass = function () {\r\n    function defineProperties(target, props) {\r\n      for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\r\n      }\r\n    }return function (Constructor, protoProps, staticProps) {\r\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\r\n    };\r\n  }();\r\n  \r\n  var _throwIfMissing = require(\"./util/throwIfMissing\");\r\n  \r\n  var _throwIfMissing2 = _interopRequireDefault(_throwIfMissing);\r\n  \r\n  var _BoundingBox = require(\"./BoundingBox\");\r\n  \r\n  var _BoundingBox2 = _interopRequireDefault(_BoundingBox);\r\n  \r\n  function _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : { default: obj };\r\n  }\r\n  \r\n  function _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n      throw new TypeError(\"Cannot call a class as a function\");\r\n    }\r\n  }\r\n  \r\n  var Trigger = function () {\r\n    function Trigger() {\r\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\r\n  \r\n      _classCallCheck(this, Trigger);\r\n  \r\n      _initialiseProps.call(this);\r\n  \r\n      var _options$el = options.el,\r\n          el = _options$el === undefined ? (0, _throwIfMissing2.default)() : _options$el,\r\n          _options$zoomPane = options.zoomPane,\r\n          zoomPane = _options$zoomPane === undefined ? (0, _throwIfMissing2.default)() : _options$zoomPane,\r\n          _options$sourceAttrib = options.sourceAttribute,\r\n          sourceAttribute = _options$sourceAttrib === undefined ? (0, _throwIfMissing2.default)() : _options$sourceAttrib,\r\n          _options$handleTouch = options.handleTouch,\r\n          handleTouch = _options$handleTouch === undefined ? (0, _throwIfMissing2.default)() : _options$handleTouch,\r\n          _options$onShow = options.onShow,\r\n          onShow = _options$onShow === undefined ? null : _options$onShow,\r\n          _options$onHide = options.onHide,\r\n          onHide = _options$onHide === undefined ? null : _options$onHide,\r\n          _options$hoverDelay = options.hoverDelay,\r\n          hoverDelay = _options$hoverDelay === undefined ? 0 : _options$hoverDelay,\r\n          _options$touchDelay = options.touchDelay,\r\n          touchDelay = _options$touchDelay === undefined ? 0 : _options$touchDelay,\r\n          _options$hoverBoundin = options.hoverBoundingBox,\r\n          hoverBoundingBox = _options$hoverBoundin === undefined ? (0, _throwIfMissing2.default)() : _options$hoverBoundin,\r\n          _options$touchBoundin = options.touchBoundingBox,\r\n          touchBoundingBox = _options$touchBoundin === undefined ? (0, _throwIfMissing2.default)() : _options$touchBoundin,\r\n          _options$namespace = options.namespace,\r\n          namespace = _options$namespace === undefined ? null : _options$namespace,\r\n          _options$zoomFactor = options.zoomFactor,\r\n          zoomFactor = _options$zoomFactor === undefined ? (0, _throwIfMissing2.default)() : _options$zoomFactor,\r\n          _options$boundingBoxC = options.boundingBoxContainer,\r\n          boundingBoxContainer = _options$boundingBoxC === undefined ? (0, _throwIfMissing2.default)() : _options$boundingBoxC;\r\n  \r\n      this.settings = {\r\n        el: el,\r\n        zoomPane: zoomPane,\r\n        sourceAttribute: sourceAttribute,\r\n        handleTouch: handleTouch,\r\n        onShow: onShow,\r\n        onHide: onHide,\r\n        hoverDelay: hoverDelay,\r\n        touchDelay: touchDelay,\r\n        hoverBoundingBox: hoverBoundingBox,\r\n        touchBoundingBox: touchBoundingBox,\r\n        namespace: namespace,\r\n        zoomFactor: zoomFactor,\r\n        boundingBoxContainer: boundingBoxContainer\r\n      };\r\n  \r\n      if (this.settings.hoverBoundingBox || this.settings.touchBoundingBox) {\r\n        this.boundingBox = new _BoundingBox2.default({\r\n          namespace: this.settings.namespace,\r\n          zoomFactor: this.settings.zoomFactor,\r\n          containerEl: this.settings.boundingBoxContainer\r\n        });\r\n      }\r\n  \r\n      this.enabled = true;\r\n  \r\n      this._bindEvents();\r\n    }\r\n  \r\n    _createClass(Trigger, [{\r\n      key: \"_bindEvents\",\r\n      value: function _bindEvents() {\r\n        this.settings.el.addEventListener(\"mouseenter\", this._handleEntry, false);\r\n        this.settings.el.addEventListener(\"mouseleave\", this._hide, false);\r\n        this.settings.el.addEventListener(\"mousemove\", this._handleMovement, false);\r\n  \r\n        if (this.settings.handleTouch) {\r\n          this.settings.el.addEventListener(\"touchstart\", this._handleEntry, false);\r\n          this.settings.el.addEventListener(\"touchend\", this._hide, false);\r\n          this.settings.el.addEventListener(\"touchmove\", this._handleMovement, false);\r\n        }\r\n      }\r\n    }, {\r\n      key: \"_unbindEvents\",\r\n      value: function _unbindEvents() {\r\n        this.settings.el.removeEventListener(\"mouseenter\", this._handleEntry, false);\r\n        this.settings.el.removeEventListener(\"mouseleave\", this._hide, false);\r\n        this.settings.el.removeEventListener(\"mousemove\", this._handleMovement, false);\r\n  \r\n        if (this.settings.handleTouch) {\r\n          this.settings.el.removeEventListener(\"touchstart\", this._handleEntry, false);\r\n          this.settings.el.removeEventListener(\"touchend\", this._hide, false);\r\n          this.settings.el.removeEventListener(\"touchmove\", this._handleMovement, false);\r\n        }\r\n      }\r\n    }, {\r\n      key: \"isShowing\",\r\n      get: function get() {\r\n        return this.settings.zoomPane.isShowing;\r\n      }\r\n    }]);\r\n  \r\n    return Trigger;\r\n  }();\r\n  \r\n  var _initialiseProps = function _initialiseProps() {\r\n    var _this = this;\r\n  \r\n    this._handleEntry = function (e) {\r\n      e.preventDefault();\r\n      _this._lastMovement = e;\r\n  \r\n      if (e.type == \"mouseenter\" && _this.settings.hoverDelay) {\r\n        _this.entryTimeout = setTimeout(_this._show, _this.settings.hoverDelay);\r\n      } else if (_this.settings.touchDelay) {\r\n        _this.entryTimeout = setTimeout(_this._show, _this.settings.touchDelay);\r\n      } else {\r\n        _this._show();\r\n      }\r\n    };\r\n  \r\n    this._show = function () {\r\n      if (!_this.enabled) {\r\n        return;\r\n      }\r\n  \r\n      var onShow = _this.settings.onShow;\r\n      if (onShow && typeof onShow === \"function\") {\r\n        onShow();\r\n      }\r\n  \r\n      _this.settings.zoomPane.show(_this.settings.el.getAttribute(_this.settings.sourceAttribute), _this.settings.el.clientWidth, _this.settings.el.clientHeight);\r\n  \r\n      if (_this._lastMovement) {\r\n        var touchActivated = _this._lastMovement.touches;\r\n        if (touchActivated && _this.settings.touchBoundingBox || !touchActivated && _this.settings.hoverBoundingBox) {\r\n          _this.boundingBox.show(_this.settings.zoomPane.el.clientWidth, _this.settings.zoomPane.el.clientHeight);\r\n        }\r\n      }\r\n  \r\n      _this._handleMovement();\r\n    };\r\n  \r\n    this._hide = function (e) {\r\n      e.preventDefault();\r\n  \r\n      _this._lastMovement = null;\r\n  \r\n      if (_this.entryTimeout) {\r\n        clearTimeout(_this.entryTimeout);\r\n      }\r\n  \r\n      if (_this.boundingBox) {\r\n        _this.boundingBox.hide();\r\n      }\r\n  \r\n      var onHide = _this.settings.onHide;\r\n      if (onHide && typeof onHide === \"function\") {\r\n        onHide();\r\n      }\r\n  \r\n      _this.settings.zoomPane.hide();\r\n    };\r\n  \r\n    this._handleMovement = function (e) {\r\n      if (e) {\r\n        e.preventDefault();\r\n        _this._lastMovement = e;\r\n      } else if (_this._lastMovement) {\r\n        e = _this._lastMovement;\r\n      } else {\r\n        return;\r\n      }\r\n  \r\n      var movementX = void 0,\r\n          movementY = void 0;\r\n  \r\n      if (e.touches) {\r\n        var firstTouch = e.touches[0];\r\n        movementX = firstTouch.clientX;\r\n        movementY = firstTouch.clientY;\r\n      } else {\r\n        movementX = e.clientX;\r\n        movementY = e.clientY;\r\n      }\r\n  \r\n      var el = _this.settings.el;\r\n      var rect = el.getBoundingClientRect();\r\n      var offsetX = movementX - rect.left;\r\n      var offsetY = movementY - rect.top;\r\n  \r\n      var percentageOffsetX = offsetX / _this.settings.el.clientWidth;\r\n      var percentageOffsetY = offsetY / _this.settings.el.clientHeight;\r\n  \r\n      if (_this.boundingBox) {\r\n        _this.boundingBox.setPosition(percentageOffsetX, percentageOffsetY, rect);\r\n      }\r\n  \r\n      _this.settings.zoomPane.setPosition(percentageOffsetX, percentageOffsetY, rect);\r\n    };\r\n  };\r\n  \r\n  exports.default = Trigger;\r\n  \r\n  },{\"./BoundingBox\":1,\"./util/throwIfMissing\":7}],4:[function(require,module,exports){\r\n  \"use strict\";\r\n  \r\n  Object.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n  });\r\n  \r\n  var _createClass = function () {\r\n    function defineProperties(target, props) {\r\n      for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\r\n      }\r\n    }return function (Constructor, protoProps, staticProps) {\r\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\r\n    };\r\n  }();\r\n  \r\n  var _throwIfMissing = require(\"./util/throwIfMissing\");\r\n  \r\n  var _throwIfMissing2 = _interopRequireDefault(_throwIfMissing);\r\n  \r\n  var _dom = require(\"./util/dom\");\r\n  \r\n  function _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : { default: obj };\r\n  }\r\n  \r\n  function _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n      throw new TypeError(\"Cannot call a class as a function\");\r\n    }\r\n  }\r\n  \r\n  // All officially-supported browsers have this, but it's easy to\r\n  // account for, just in case.\r\n  var divStyle = document.createElement(\"div\").style;\r\n  \r\n  var HAS_ANIMATION = typeof document === \"undefined\" ? false : \"animation\" in divStyle || \"webkitAnimation\" in divStyle;\r\n  \r\n  var ZoomPane = function () {\r\n    function ZoomPane() {\r\n      var _this = this;\r\n  \r\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\r\n  \r\n      _classCallCheck(this, ZoomPane);\r\n  \r\n      this._completeShow = function () {\r\n        _this.el.removeEventListener(\"animationend\", _this._completeShow, false);\r\n        _this.el.removeEventListener(\"webkitAnimationEnd\", _this._completeShow, false);\r\n  \r\n        (0, _dom.removeClasses)(_this.el, _this.openingClasses);\r\n      };\r\n  \r\n      this._completeHide = function () {\r\n        _this.el.removeEventListener(\"animationend\", _this._completeHide, false);\r\n        _this.el.removeEventListener(\"webkitAnimationEnd\", _this._completeHide, false);\r\n  \r\n        (0, _dom.removeClasses)(_this.el, _this.openClasses);\r\n        (0, _dom.removeClasses)(_this.el, _this.closingClasses);\r\n        (0, _dom.removeClasses)(_this.el, _this.inlineClasses);\r\n  \r\n        _this.el.setAttribute(\"style\", \"\");\r\n  \r\n        // The window could have been resized above or below `inline`\r\n        // limits since the ZoomPane was shown. Because of this, we\r\n        // can't rely on `this._isInline` here.\r\n        if (_this.el.parentElement === _this.settings.container) {\r\n          _this.settings.container.removeChild(_this.el);\r\n        } else if (_this.el.parentElement === _this.settings.inlineContainer) {\r\n          _this.settings.inlineContainer.removeChild(_this.el);\r\n        }\r\n      };\r\n  \r\n      this._handleLoad = function () {\r\n        _this.imgEl.removeEventListener(\"load\", _this._handleLoad, false);\r\n        (0, _dom.removeClasses)(_this.el, _this.loadingClasses);\r\n      };\r\n  \r\n      this.isShowing = false;\r\n  \r\n      var _options$container = options.container,\r\n          container = _options$container === undefined ? null : _options$container,\r\n          _options$zoomFactor = options.zoomFactor,\r\n          zoomFactor = _options$zoomFactor === undefined ? (0, _throwIfMissing2.default)() : _options$zoomFactor,\r\n          _options$inline = options.inline,\r\n          inline = _options$inline === undefined ? (0, _throwIfMissing2.default)() : _options$inline,\r\n          _options$namespace = options.namespace,\r\n          namespace = _options$namespace === undefined ? null : _options$namespace,\r\n          _options$showWhitespa = options.showWhitespaceAtEdges,\r\n          showWhitespaceAtEdges = _options$showWhitespa === undefined ? (0, _throwIfMissing2.default)() : _options$showWhitespa,\r\n          _options$containInlin = options.containInline,\r\n          containInline = _options$containInlin === undefined ? (0, _throwIfMissing2.default)() : _options$containInlin,\r\n          _options$inlineOffset = options.inlineOffsetX,\r\n          inlineOffsetX = _options$inlineOffset === undefined ? 0 : _options$inlineOffset,\r\n          _options$inlineOffset2 = options.inlineOffsetY,\r\n          inlineOffsetY = _options$inlineOffset2 === undefined ? 0 : _options$inlineOffset2,\r\n          _options$inlineContai = options.inlineContainer,\r\n          inlineContainer = _options$inlineContai === undefined ? document.body : _options$inlineContai;\r\n  \r\n      this.settings = {\r\n        container: container,\r\n        zoomFactor: zoomFactor,\r\n        inline: inline,\r\n        namespace: namespace,\r\n        showWhitespaceAtEdges: showWhitespaceAtEdges,\r\n        containInline: containInline,\r\n        inlineOffsetX: inlineOffsetX,\r\n        inlineOffsetY: inlineOffsetY,\r\n        inlineContainer: inlineContainer\r\n      };\r\n  \r\n      this.openClasses = this._buildClasses(\"open\");\r\n      this.openingClasses = this._buildClasses(\"opening\");\r\n      this.closingClasses = this._buildClasses(\"closing\");\r\n      this.inlineClasses = this._buildClasses(\"inline\");\r\n      this.loadingClasses = this._buildClasses(\"loading\");\r\n  \r\n      this._buildElement();\r\n    }\r\n  \r\n    _createClass(ZoomPane, [{\r\n      key: \"_buildClasses\",\r\n      value: function _buildClasses(suffix) {\r\n        var classes = [\"drift-\" + suffix];\r\n  \r\n        var ns = this.settings.namespace;\r\n        if (ns) {\r\n          classes.push(ns + \"-\" + suffix);\r\n        }\r\n  \r\n        return classes;\r\n      }\r\n    }, {\r\n      key: \"_buildElement\",\r\n      value: function _buildElement() {\r\n        this.el = document.createElement(\"div\");\r\n        (0, _dom.addClasses)(this.el, this._buildClasses(\"zoom-pane\"));\r\n  \r\n        var loaderEl = document.createElement(\"div\");\r\n        (0, _dom.addClasses)(loaderEl, this._buildClasses(\"zoom-pane-loader\"));\r\n        this.el.appendChild(loaderEl);\r\n  \r\n        this.imgEl = document.createElement(\"img\");\r\n        this.el.appendChild(this.imgEl);\r\n      }\r\n    }, {\r\n      key: \"_setImageURL\",\r\n      value: function _setImageURL(imageURL) {\r\n        this.imgEl.setAttribute(\"src\", imageURL);\r\n      }\r\n    }, {\r\n      key: \"_setImageSize\",\r\n      value: function _setImageSize(triggerWidth, triggerHeight) {\r\n        this.imgEl.style.width = triggerWidth * this.settings.zoomFactor + \"px\";\r\n        this.imgEl.style.height = triggerHeight * this.settings.zoomFactor + \"px\";\r\n      }\r\n  \r\n      // `percentageOffsetX` and `percentageOffsetY` must be percentages\r\n      // expressed as floats between `0' and `1`.\r\n  \r\n    }, {\r\n      key: \"setPosition\",\r\n      value: function setPosition(percentageOffsetX, percentageOffsetY, triggerRect) {\r\n        var left = -(this.imgEl.clientWidth * percentageOffsetX - this.el.clientWidth / 2);\r\n        var top = -(this.imgEl.clientHeight * percentageOffsetY - this.el.clientHeight / 2);\r\n        var maxLeft = -(this.imgEl.clientWidth - this.el.clientWidth);\r\n        var maxTop = -(this.imgEl.clientHeight - this.el.clientHeight);\r\n  \r\n        if (this.el.parentElement === this.settings.inlineContainer) {\r\n          // This may be needed in the future to deal with browser event\r\n          // inconsistencies, but it's difficult to tell for sure.\r\n          // let scrollX = isTouch ? 0 : window.scrollX;\r\n          // let scrollY = isTouch ? 0 : window.scrollY;\r\n          var scrollX = window.pageXOffset;\r\n          var scrollY = window.pageYOffset;\r\n  \r\n          var inlineLeft = triggerRect.left + percentageOffsetX * triggerRect.width - this.el.clientWidth / 2 + this.settings.inlineOffsetX + scrollX;\r\n          var inlineTop = triggerRect.top + percentageOffsetY * triggerRect.height - this.el.clientHeight / 2 + this.settings.inlineOffsetY + scrollY;\r\n  \r\n          if (this.settings.containInline) {\r\n            var elRect = this.el.getBoundingClientRect();\r\n  \r\n            if (inlineLeft < triggerRect.left + scrollX) {\r\n              inlineLeft = triggerRect.left + scrollX;\r\n            } else if (inlineLeft + this.el.clientWidth > triggerRect.left + triggerRect.width + scrollX) {\r\n              inlineLeft = triggerRect.left + triggerRect.width - this.el.clientWidth + scrollX;\r\n            }\r\n  \r\n            if (inlineTop < triggerRect.top + scrollY) {\r\n              inlineTop = triggerRect.top + scrollY;\r\n            } else if (inlineTop + this.el.clientHeight > triggerRect.top + triggerRect.height + scrollY) {\r\n              inlineTop = triggerRect.top + triggerRect.height - this.el.clientHeight + scrollY;\r\n            }\r\n          }\r\n  \r\n          this.el.style.left = inlineLeft + \"px\";\r\n          this.el.style.top = inlineTop + \"px\";\r\n        }\r\n  \r\n        if (!this.settings.showWhitespaceAtEdges) {\r\n          if (left > 0) {\r\n            left = 0;\r\n          } else if (left < maxLeft) {\r\n            left = maxLeft;\r\n          }\r\n  \r\n          if (top > 0) {\r\n            top = 0;\r\n          } else if (top < maxTop) {\r\n            top = maxTop;\r\n          }\r\n        }\r\n  \r\n        this.imgEl.style.transform = \"translate(\" + left + \"px, \" + top + \"px)\";\r\n        this.imgEl.style.webkitTransform = \"translate(\" + left + \"px, \" + top + \"px)\";\r\n      }\r\n    }, {\r\n      key: \"_removeListenersAndResetClasses\",\r\n      value: function _removeListenersAndResetClasses() {\r\n        this.el.removeEventListener(\"animationend\", this._completeShow, false);\r\n        this.el.removeEventListener(\"animationend\", this._completeHide, false);\r\n        this.el.removeEventListener(\"webkitAnimationEnd\", this._completeShow, false);\r\n        this.el.removeEventListener(\"webkitAnimationEnd\", this._completeHide, false);\r\n        (0, _dom.removeClasses)(this.el, this.openClasses);\r\n        (0, _dom.removeClasses)(this.el, this.closingClasses);\r\n      }\r\n    }, {\r\n      key: \"show\",\r\n      value: function show(imageURL, triggerWidth, triggerHeight) {\r\n        this._removeListenersAndResetClasses();\r\n        this.isShowing = true;\r\n  \r\n        (0, _dom.addClasses)(this.el, this.openClasses);\r\n        (0, _dom.addClasses)(this.el, this.loadingClasses);\r\n  \r\n        this.imgEl.addEventListener(\"load\", this._handleLoad, false);\r\n        this._setImageURL(imageURL);\r\n        this._setImageSize(triggerWidth, triggerHeight);\r\n  \r\n        if (this._isInline) {\r\n          this._showInline();\r\n        } else {\r\n          this._showInContainer();\r\n        }\r\n  \r\n        if (HAS_ANIMATION) {\r\n          this.el.addEventListener(\"animationend\", this._completeShow, false);\r\n          this.el.addEventListener(\"webkitAnimationEnd\", this._completeShow, false);\r\n          (0, _dom.addClasses)(this.el, this.openingClasses);\r\n        }\r\n      }\r\n    }, {\r\n      key: \"_showInline\",\r\n      value: function _showInline() {\r\n        this.settings.inlineContainer.appendChild(this.el);\r\n        (0, _dom.addClasses)(this.el, this.inlineClasses);\r\n      }\r\n    }, {\r\n      key: \"_showInContainer\",\r\n      value: function _showInContainer() {\r\n        this.settings.container.appendChild(this.el);\r\n      }\r\n    }, {\r\n      key: \"hide\",\r\n      value: function hide() {\r\n        this._removeListenersAndResetClasses();\r\n        this.isShowing = false;\r\n  \r\n        if (HAS_ANIMATION) {\r\n          this.el.addEventListener(\"animationend\", this._completeHide, false);\r\n          this.el.addEventListener(\"webkitAnimationEnd\", this._completeHide, false);\r\n          (0, _dom.addClasses)(this.el, this.closingClasses);\r\n        } else {\r\n          (0, _dom.removeClasses)(this.el, this.openClasses);\r\n          (0, _dom.removeClasses)(this.el, this.inlineClasses);\r\n        }\r\n      }\r\n    }, {\r\n      key: \"_isInline\",\r\n      get: function get() {\r\n        var inline = this.settings.inline;\r\n  \r\n        return inline === true || typeof inline === \"number\" && window.innerWidth <= inline;\r\n      }\r\n    }]);\r\n  \r\n    return ZoomPane;\r\n  }();\r\n  \r\n  exports.default = ZoomPane;\r\n  \r\n  },{\"./util/dom\":6,\"./util/throwIfMissing\":7}],5:[function(require,module,exports){\r\n  \"use strict\";\r\n  \r\n  Object.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n  });\r\n  exports.default = injectBaseStylesheet;\r\n  var RULES = \"\\n@keyframes noop {\\n  0% { zoom: 1; }\\n}\\n\\n@-webkit-keyframes noop {\\n  0% { zoom: 1; }\\n}\\n\\n.drift-zoom-pane.drift-open {\\n  display: block;\\n}\\n\\n.drift-zoom-pane.drift-opening, .drift-zoom-pane.drift-closing {\\n  animation: noop 1ms;\\n  -webkit-animation: noop 1ms;\\n}\\n\\n.drift-zoom-pane {\\n  position: absolute;\\n  overflow: hidden;\\n  width: 100%;\\n  height: 100%;\\n  top: 0;\\n  left: 0;\\n  pointer-events: none;\\n}\\n\\n.drift-zoom-pane-loader {\\n  display: none;\\n}\\n\\n.drift-zoom-pane img {\\n  position: absolute;\\n  display: block;\\n  max-width: none;\\n  max-height: none;\\n}\\n\\n.drift-bounding-box {\\n  position: absolute;\\n  pointer-events: none;\\n}\\n\";\r\n  \r\n  function injectBaseStylesheet() {\r\n    if (document.querySelector(\".drift-base-styles\")) {\r\n      return;\r\n    }\r\n  \r\n    var styleEl = document.createElement(\"style\");\r\n    styleEl.type = \"text/css\";\r\n    styleEl.classList.add(\"drift-base-styles\");\r\n  \r\n    styleEl.appendChild(document.createTextNode(RULES));\r\n  \r\n    var head = document.head;\r\n    head.insertBefore(styleEl, head.firstChild);\r\n  }\r\n  \r\n  },{}],6:[function(require,module,exports){\r\n  \"use strict\";\r\n  \r\n  var _typeof2 = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\r\n  \r\n  Object.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n  });\r\n  \r\n  var _typeof = typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\" ? function (obj) {\r\n    return typeof obj === \"undefined\" ? \"undefined\" : _typeof2(obj);\r\n  } : function (obj) {\r\n    return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj === \"undefined\" ? \"undefined\" : _typeof2(obj);\r\n  };\r\n  \r\n  exports.isDOMElement = isDOMElement;\r\n  exports.addClasses = addClasses;\r\n  exports.removeClasses = removeClasses;\r\n  // This is not really a perfect check, but works fine.\r\n  // From http://stackoverflow.com/questions/384286\r\n  var HAS_DOM_2 = (typeof HTMLElement === \"undefined\" ? \"undefined\" : _typeof(HTMLElement)) === \"object\";\r\n  \r\n  function isDOMElement(obj) {\r\n    return HAS_DOM_2 ? obj instanceof HTMLElement : obj && (typeof obj === \"undefined\" ? \"undefined\" : _typeof(obj)) === \"object\" && obj !== null && obj.nodeType === 1 && typeof obj.nodeName === \"string\";\r\n  }\r\n  \r\n  function addClasses(el, classNames) {\r\n    classNames.forEach(function (className) {\r\n      el.classList.add(className);\r\n    });\r\n  }\r\n  \r\n  function removeClasses(el, classNames) {\r\n    classNames.forEach(function (className) {\r\n      el.classList.remove(className);\r\n    });\r\n  }\r\n  \r\n  },{}],7:[function(require,module,exports){\r\n  \"use strict\";\r\n  \r\n  Object.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n  });\r\n  exports.default = throwIfMissing;\r\n  function throwIfMissing() {\r\n    throw new Error(\"Missing parameter\");\r\n  }\r\n  \r\n  },{}]},{},[2])(2)\r\n  });\r\n  ","import { NgModule } from \"@angular/core\";\r\nimport { Routes, RouterModule } from \"@angular/router\";\r\nimport { MainPageComponent } from \"./pages/main/main.component\";\r\nimport { AuthorsPageComponent } from \"./pages/authors/authors.component\";\r\nimport { WorksCitedPageComponent } from \"./pages/workcited/workscited.component\";\r\n\r\nconst routes: Routes = [\r\n  { path: \"authors\", component: AuthorsPageComponent },\r\n  { path: \"workscited\", component: WorksCitedPageComponent },\r\n  {\r\n    path: \"figures\",\r\n    loadChildren: () =>\r\n      import(\"./features/figures/figures.module\").then(mod => mod.FiguresModule)\r\n  },\r\n  { path: \"\", component: MainPageComponent, pathMatch: \"full\" },\r\n  { path: \"**\", redirectTo: \"\" }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes, { relativeLinkResolution: 'legacy' })],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule {}\r\n","import { Component } from \"@angular/core\";\r\n\r\n@Component({\r\n  selector: \"app-root\",\r\n  templateUrl: \"./app.component.html\",\r\n  styleUrls: [\"./app.component.scss\"]\r\n})\r\nexport class AppComponent {}\r\n","<app-header></app-header>\r\n\r\n<router-outlet></router-outlet>\r\n","import { BrowserModule } from \"@angular/platform-browser\";\r\nimport { NgModule } from \"@angular/core\";\r\n\r\nimport { AppRoutingModule } from \"./app-routing.module\";\r\nimport { AppComponent } from \"./app.component\";\r\nimport { HeaderComponent } from \"./components/header/header.component\";\r\nimport { MainPageComponent } from \"./pages/main/main.component\";\r\nimport { JumboTitleComponent } from \"./components/jumbo-title/jumbo-title.component\";\r\nimport { AuthorsPageComponent } from \"./pages/authors/authors.component\";\r\nimport { WorksCitedPageComponent } from \"./pages/workcited/workscited.component\";\r\nimport { ScrollerComponent } from \"./components/scroller/scroller.component\";\r\nimport { TippyDirective } from \"./directives/tippy.directive\";\r\nimport { LuminousLightboxDirective } from \"./directives/luminous-lightbox.directive\";\r\nimport { DriftzoomDirective } from \"./directives/driftzoom.directive\";\r\nimport { SharedModule } from \"./modules/shared/shared.module\";\r\nimport { APP_BASE_HREF, PlatformLocation } from '@angular/common';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    HeaderComponent,\r\n    MainPageComponent,\r\n    JumboTitleComponent,\r\n    AuthorsPageComponent,\r\n    WorksCitedPageComponent,\r\n    ScrollerComponent,\r\n    TippyDirective,\r\n    LuminousLightboxDirective,\r\n    DriftzoomDirective\r\n  ],\r\n  imports: [BrowserModule, SharedModule, AppRoutingModule],\r\n  bootstrap: [AppComponent],\r\n  providers: [\r\n    {\r\n      provide: APP_BASE_HREF,\r\n      useFactory: (s: PlatformLocation) => s.getBaseHrefFromDOM(),\r\n      deps: [PlatformLocation]\r\n    }\r\n  ],\r\n})\r\nexport class AppModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-header',\r\n  templateUrl: './header.component.html',\r\n  styleUrls: ['./header.component.scss']\r\n})\r\nexport class HeaderComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<header>\r\n  <nav>\r\n    <a\r\n      routerLink=\"/\"\r\n      routerLinkActive=\"active-link\"\r\n      [routerLinkActiveOptions]=\"{ exact: true }\"\r\n      >Main</a\r\n    >\r\n    <a routerLink=\"/workscited\" routerLinkActive=\"active-link\">Works Cited</a>\r\n    <a\r\n      href=\"https://digitalwitchproject.tumblr.com/\"\r\n      routerLinkActive=\"active-link\"\r\n      target=\"_blank\"\r\n      >Methods</a\r\n    >\r\n    <a routerLink=\"/figures\" routerLinkActive=\"active-link\">Figures</a>\r\n    <a routerLink=\"/authors\" routerLinkActive=\"active-link\">Authors</a>\r\n  </nav>\r\n</header>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-jumbo-title',\r\n  templateUrl: './jumbo-title.component.html',\r\n  styleUrls: ['./jumbo-title.component.scss']\r\n})\r\nexport class JumboTitleComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<section class=\"contained hero\">\r\n  <div class=\"title-card\">\r\n    <h1 class=\"title\">\r\n      <span>Digital</span> Witch <span class=\"mobilebreak\">Project</span>\r\n    </h1>\r\n    <div class=\"byline\">\r\n      <p>\r\n        <span>Written by</span> Tess Henthorne, Bridget L. Sellers, and\r\n        Elizabeth Crowley Webber.\r\n      </p>\r\n      <p><span>Visualizations by</span> Elizabeth Crowley Webber.</p>\r\n      <p><span>Website by</span> Benjamin Liden.</p>\r\n    </div>\r\n  </div>\r\n  <div class=\"abstract-card\">\r\n    <h3 class=\"abstract\">Abstract</h3>\r\n    <p>\r\n      The general purpose of the Digital Witch Project is to create a\r\n      methodology for understanding film genres and cycles using digital tools.\r\n      Our specific goal is to investigate the dialogue and images of one\r\n      critically understudied genre, witch films, and draw conclusions about the\r\n      emergence of patterns and trends over time. The project has three stages:\r\n      (1) identifying a corpus of witch films, (2) collecting data from that\r\n      corpus on textual and visual similarities between films, and (3)\r\n      visualizing and analyzing collected data. We employed\r\n      <a href=\"https://databasic.io/en/samediff/\" target=\"_blank\">SameDiff</a> a\r\n      textual comparison of dialogue in witch films and\r\n      <a href=\"http://lab.softwarestudies.com/p/imageplot.html\" target=\"_blank\"\r\n        >ImagePlot</a\r\n      >\r\n      for a visual comparison of theatrical posters and film stills. This\r\n      investigation reveals prototypical films,\r\n      <em>The Witches of Eastwick</em> and <em>The Craft</em>; cycles, including\r\n      the <em>Harry Potter</em> franchise and the made-for-television witch film\r\n      trend; and outliers, including\r\n      <em>Snow White and the Seven Dwarfs</em> and\r\n      <em>The Blair Witch Project</em>. In all, we hope this study sparks more\r\n      conversations on the complex inner workings of genre film production,\r\n      capitalism, and the tradition of co-opting witchcraft—a symbol of import\r\n      to various marginalized cultures—within U.S. film and media.\r\n    </p>\r\n  </div>\r\n</section>\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  ViewChild,\r\n  ElementRef,\r\n  AfterViewInit,\r\n  ViewChildren,\r\n  ChangeDetectionStrategy,\r\n  OnDestroy,\r\n  QueryList\r\n} from \"@angular/core\";\r\nimport { BreakpointObserver, Breakpoints } from \"@angular/cdk/layout\";\r\nimport { map, debounceTime, takeUntil, tap } from \"rxjs/operators\";\r\nimport { Observable, fromEvent, Subscription, Subject } from \"rxjs\";\r\nimport scrollama from \"scrollama\";\r\nimport { DriftzoomDirective } from \"src/app/directives/driftzoom.directive\";\r\nimport { RequiredRefs } from \"src/app/types/driftZoom\";\r\nimport { Drift } from \"src/assets/scripts/Drift\";\r\n\r\nconst getNativeElement = el => el.nativeElement;\r\nconst getDriftInstance = directive => directive.drift;\r\n\r\n@Component({\r\n  selector: \"app-scroller\",\r\n  templateUrl: \"./scroller.component.html\",\r\n  styleUrls: [\"./scroller.component.scss\"],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class ScrollerComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  // this observable is emits true whenever the viewport is <959px\r\n  isMobile$: Observable<boolean> = this.breakpointObserver\r\n    .observe([Breakpoints.XSmall, Breakpoints.Small])\r\n    .pipe(map(result => result.matches));\r\n\r\n  @ViewChild(\"scrollContainer\", { static: true })\r\n  scrollContainerRef: ElementRef;\r\n  @ViewChild(\"scrollText\", { static: true }) scrollTextRef: ElementRef;\r\n  @ViewChild(\"scrollGraphic\", { static: true }) scrollGraphicRef: ElementRef;\r\n  @ViewChild(\"chart\", { static: true }) chartRef: ElementRef;\r\n\r\n  @ViewChildren(\"step\") steps: any;\r\n  @ViewChildren(DriftzoomDirective)\r\n  driftZoomInstances: QueryList<DriftzoomDirective>;\r\n\r\n  stepRefs: HTMLElement[];\r\n  imageRefs: HTMLElement[];\r\n  driftInstanceRefs: Drift[];\r\n  driftZoomRefs: RequiredRefs;\r\n  scroller: any; // scrollama instance\r\n\r\n  resizeListener: Subscription;\r\n  destroy$ = new Subject();\r\n\r\n  constructor(private breakpointObserver: BreakpointObserver) {}\r\n\r\n  ngOnInit() {\r\n    this.driftZoomRefs = {\r\n      scrollGraphic: this.scrollGraphicRef,\r\n      scrollText: this.scrollTextRef,\r\n      chart: this.chartRef\r\n    };\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.buildRefArrays();\r\n    this.initScrollama();\r\n    this.windowResizeListener();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  handleResize() {\r\n    const graphic = this.scrollGraphicRef.nativeElement;\r\n    const text = this.scrollTextRef.nativeElement;\r\n    const chart = this.chartRef.nativeElement;\r\n\r\n    // 1. update height of step elems for room between steps\r\n\r\n    const stepHeight = Math.floor(window.innerHeight * 0.25);\r\n    this.stepRefs.forEach(function(singleStep) {\r\n      singleStep.style.marginBottom = `${stepHeight}px`;\r\n    });\r\n\r\n    // 2. update height of graphic elem\r\n\r\n    graphic.style.height = window.innerHeight + \"px\";\r\n\r\n    // 3. update width of chart by subrtacting from text width\r\n\r\n    const textWidth = text.offsetWidth;\r\n    const bodyWidth = document.body.offsetWidth;\r\n    const chartWidth = bodyWidth - textWidth - 32;\r\n\r\n    // make the height of 1/2 of viewport\r\n    const chartHeight = Math.floor(window.innerHeight * 0.95);\r\n\r\n    chart.style.width = chartWidth + \"px\";\r\n    chart.style.height = chartHeight + \"px\";\r\n\r\n    // zoom factor recalced on resize. smaller screen -> larger zoom\r\n    this.driftInstanceRefs.forEach(drift => {\r\n      if (drift.triggerEl.classList.contains(\"boxOffice\")) {\r\n        drift.zoomFactor = (3.5 / bodyWidth) * 10 ** 3;\r\n      } else if (drift.triggerEl.classList.contains(\"imageplot\")) {\r\n        drift.zoomFactor = (6 / bodyWidth) * 10 ** 3;\r\n      } else {\r\n        drift.zoomFactor = (4 / bodyWidth) * 10 ** 3;\r\n      }\r\n    });\r\n\r\n    // 4. tell scrollama to update new elem dimensions\r\n    this.scroller.resize();\r\n  }\r\n\r\n  windowResizeListener() {\r\n    this.resizeListener = fromEvent(window, \"resize\")\r\n      .pipe(\r\n        // debounceTime(500),\r\n        takeUntil(this.destroy$)\r\n      )\r\n      .subscribe(this.handleResize.bind(this)); // must bind this to access class props\r\n  }\r\n\r\n  /*\r\n    map over the QueryLists and return an array of nativeElements or driftInstances\r\n  */\r\n  buildRefArrays() {\r\n    this.stepRefs = this.steps.map(getNativeElement);\r\n    this.imageRefs = this.driftZoomInstances\r\n      .map(dir => dir.el)\r\n      .map(getNativeElement);\r\n    this.driftInstanceRefs = this.driftZoomInstances.map(getDriftInstance);\r\n  }\r\n\r\n  /*\r\n    setup scroller and define utility functions\r\n  */\r\n  initScrollama() {\r\n    this.scroller = scrollama();\r\n    this.scroller\r\n      .setup({\r\n        container: this.scrollContainerRef.nativeElement, // outermost element\r\n        graphic: this.scrollGraphicRef.nativeElement, // the graphic\r\n        text: this.scrollTextRef.nativeElement, // the step container\r\n        step: this.stepRefs, // the steps\r\n        offset: 0.7\r\n      })\r\n      .onStepEnter(response => {\r\n        const { element, index, direction } = response;\r\n\r\n        // make next step active\r\n        this.stepRefs[index].classList.add(\"is-active\");\r\n\r\n        // make next image(s) active, deactivate all others\r\n        this.imageRefs.forEach(el => {\r\n          if (Number(el.dataset.step) === index) {\r\n            el.classList.add(\"is-active\");\r\n          } else {\r\n            el.classList.remove(\"is-active\");\r\n          }\r\n        });\r\n      })\r\n      .onContainerEnter(response => {\r\n        const graphic = this.scrollGraphicRef.nativeElement;\r\n        graphic.classList.add(\"is-fixed\");\r\n        graphic.classList.remove(\"is-bottom\");\r\n      })\r\n      .onContainerExit(response => {\r\n        const graphic = this.scrollGraphicRef.nativeElement;\r\n        graphic.classList.remove(\"is-fixed\");\r\n        if (response.direction === \"down\") {\r\n          graphic.classList.add(\"is-bottom\");\r\n        } else {\r\n          graphic.classList.remove(\"is-bottom\");\r\n        }\r\n      });\r\n\r\n    // resize only AFTER scrollama is initialized\r\n    this.handleResize();\r\n  }\r\n}\r\n","<section id=\"scroll\" #scrollContainer>\r\n  <div class=\"scroll__graphic\" #scrollGraphic>\r\n    <div class=\"chart\" #chart>\r\n      <img\r\n        driftZoom\r\n        [refs]=\"driftZoomRefs\"\r\n        class=\"driftImg boxOffice\"\r\n        src=\"./assets/graphs/BoxOfficeReceipts.png\"\r\n        data-step=\"0\"\r\n        alt=\"Bar graph of Box Office Receipts\"\r\n      />\r\n      <img\r\n        driftZoom\r\n        [refs]=\"driftZoomRefs\"\r\n        class=\"driftImg imageplot\"\r\n        src=\"./assets/graphs/Alpha-BrightnessVsHuePolar.png\"\r\n        data-step=\"2\"\r\n        alt=\"ImagePlot of Brightness vs. Hue\"\r\n      />\r\n      <img\r\n        driftZoom\r\n        [refs]=\"driftZoomRefs\"\r\n        class=\"driftImg imageplot\"\r\n        src=\"./assets/graphs/Alpha-BrightnessVsSaturationAxis.png\"\r\n        data-step=\"3\"\r\n        alt=\"ImagePlot of Brightness vs. Saturation (Axis)\"\r\n      />\r\n      <img\r\n        driftZoom\r\n        [refs]=\"driftZoomRefs\"\r\n        class=\"driftImg imageplot\"\r\n        src=\"./assets/graphs/Alpha-StillsBrightnessVsSaturation.png\"\r\n        data-step=\"4\"\r\n        alt=\"ImagePlot of (stills) Brightness vs. Saturation\"\r\n      />\r\n      <img\r\n        driftZoom\r\n        [refs]=\"driftZoomRefs\"\r\n        class=\"driftImg\"\r\n        src=\"./assets/graphs/Scatterplot_Halloweentown.png\"\r\n        data-step=\"6\"\r\n        alt=\"Scatterplot of Halloweentown\"\r\n      />\r\n      <img\r\n        driftZoom\r\n        [refs]=\"driftZoomRefs\"\r\n        class=\"driftImg\"\r\n        src=\"./assets/graphs/Scatterplot_HarryPotter.png\"\r\n        data-step=\"6\"\r\n        alt=\"Scatterplot of Harry Potter\"\r\n      />\r\n      <img\r\n        driftZoom\r\n        [refs]=\"driftZoomRefs\"\r\n        class=\"driftImg\"\r\n        src=\"./assets/graphs/Scatterplot_SnowWhite.png\"\r\n        data-step=\"7\"\r\n        alt=\"Scatterplot of Snow White\"\r\n      />\r\n      <img\r\n        driftZoom\r\n        [refs]=\"driftZoomRefs\"\r\n        class=\"driftImg\"\r\n        src=\"./assets/graphs/Scatterplot_BlairWitchProject.png\"\r\n        data-step=\"7\"\r\n        alt=\"Scatterplot of The Blair Witch Project\"\r\n      />\r\n      <img\r\n        driftZoom\r\n        [refs]=\"driftZoomRefs\"\r\n        class=\"driftImg\"\r\n        src=\"./assets/graphs/Scatterplot_WitchesOfEastwick.png\"\r\n        data-step=\"8\"\r\n        alt=\"Scatterplot of Witches of Eastwick\"\r\n      />\r\n      <img\r\n        driftZoom\r\n        [refs]=\"driftZoomRefs\"\r\n        class=\"driftImg\"\r\n        src=\"./assets/graphs/Scatterplot_TheCraft.png\"\r\n        data-step=\"8\"\r\n        alt=\"Scatterplot of The Craft\"\r\n      />\r\n    </div>\r\n  </div>\r\n  <div class=\"scroll__text\" #scrollText>\r\n    <div #step class=\"step\" data-step=\"0\">\r\n      <h3>Corpus Development and Collection</h3>\r\n      <img\r\n        class=\"mobileImg\"\r\n        luminousLightbox\r\n        src=\"./assets/graphs/BoxOfficeReceipts.png\"\r\n        alt=\"Bar graph of Box Office Receipts\"\r\n      />\r\n      <p>\r\n        <span class=\"dropcap\">I</span>n this first phase of the Digital Witch\r\n        Project, we collected an\r\n        <span\r\n          tippy\r\n          class=\"tooltip\"\r\n          data-tippy-content=\"The inclusive list is typically unwieldy and includes all films that fit a “simple, tautological definition” (7). For\r\n                example, a Western (by this definition) is a film that takes place in the West. An exclusive list is curated and\r\n                focused on finding the quintessential films of a genre. Altman suggests that the inclusive list is based on semantics\r\n                whereas the exclusive list is based on syntactics.\"\r\n          >inclusive corpus*</span\r\n        >\r\n        of witch films. Despite the witch’s prevalence in the collective\r\n        imagination, no singular definition exists. For example, if we consider\r\n        both The Church and School of Wicca and Louisiana Voodoo, each employs\r\n        their own unique definition and identity. In the context of film genre,\r\n        though, cultural census allows us to readily identify a large number of\r\n        so-called “witch films” that have co-opted the term. We let public\r\n        opinion guide us as we created our corpus: If a film was called a witch\r\n        film by film distributors, marketing materials, fan websites, listicles,\r\n        or scholarly articles, we included it. This methodology necessarily\r\n        introduces certain biases, and in our case it immediately illustrated\r\n        how the figure of the witch is white-washed and subdued in media.\r\n        Lastly, we supplemented the list with any film that included named\r\n        “witches,” such as the three <em>Macbeth</em> films.\r\n      </p>\r\n      <p>\r\n        We then collected\r\n        <a\r\n          href=\"https://dhwitchcraft.tumblr.com/post/172893401162/text-collection\"\r\n          target=\"_blank\"\r\n          >dialogue transcripts</a\r\n        >, original\r\n        <a\r\n          href=\"https://dhwitchcraft.tumblr.com/post/172875783202/image-collection\"\r\n          target=\"_blank\"\r\n          >release posters</a\r\n        >, and most popular stills of each\r\n        <span\r\n          tippy\r\n          class=\"tooltip\"\r\n          data-tippy-content=\"We conducted our search from the same computer over a one-day window to eliminate differences between browsers on\r\n            different computers and any changes to available results. Occasionally, the selection of our film stills required\r\n            various editorial decisions, including selecting identical, higher resolution versions of film stills and excluding\r\n            returns from the incorrect film.\"\r\n          >film.*</span\r\n        >\r\n        We employed the image comparison tool\r\n        <a\r\n          href=\"http://lab.softwarestudies.com/p/imageplot.html\"\r\n          target=\"_blank\"\r\n          >ImagePlot</a\r\n        >\r\n        to examine differences and similarities in hue, brightness, and\r\n        saturation among the release posters and film stills. Using the text\r\n        comparison tool\r\n        <a href=\"https://databasic.io/en/samediff/\" target=\"_blank\">SameDiff</a\r\n        >, we simultaneously compared each witch film’s dialogue to\r\n        <span\r\n          tippy\r\n          class=\"tooltip\"\r\n          data-tippy-content=\"We picked these six films to serve as a proof of concept. We have plans in the future to gather similarity scores for\r\n            all films in the corpus.\"\r\n          >six films*</span\r\n        >\r\n        that indicate watershed moments in the genre’s development:\r\n        <em>Snow White and the Seven Dwarfs</em> (David Hand et al, 1937),\r\n        <em>The Witches of Eastwick</em>, <em>The Craft</em>,\r\n        <em>Halloweentown</em>, <em>The Blair Witch Project</em>, and\r\n        <em>Harry Potter and the Sorcerer’s Stone</em> (Chris Columbus, 2001).\r\n        Initially, we selected these prototypical films based on box office\r\n        receipts. The films that appeared when we found these receipts, after we\r\n        adjusted for inflations, were <em>Snow White</em> and the first\r\n        <em>Harry Potter</em>. We also observed how seminal two specific films,\r\n        <em>The Witches of Eastwick</em> and <em>The Craft</em>, were in fannish\r\n        and scholarly conversations about witch films. Similarly, when we\r\n        searched popular culture lists, the made-for-television movie\r\n        <em>Halloweentown</em> occupied a significant place in conversations;\r\n        this film highlighted a cycle of made-for-television witch movies that\r\n        our initial view of box office receipts ignored. The following\r\n        demonstrates our findings and analysis thereof.\r\n      </p>\r\n    </div>\r\n    <div #step class=\"step\" data-step=\"1\">\r\n      <h3>Visual Analysis Using ImagePlot</h3>\r\n      <p>\r\n        <span class=\"dropcap\">I</span>n addition to informing our definition of\r\n        witch films as a genre, cultural perception also shaped how we\r\n        approached visual analysis. As mentioned earlier, we analyzed theatrical\r\n        posters and film stills to consider both how this genre is marketed and\r\n        received by audiences.\r\n      </p>\r\n      <p>\r\n        For theatrical posters, we used the poster associated with each film on\r\n        the\r\n        <a href=\"https://www.imdb.com/\" target=\"_blank\"\r\n          >Internet Movie Database (IMDB)</a\r\n        >. IMDB provided continuity—nearly all U.S. films are included in the\r\n        database—and also allowed us to study how viewers perceive witch films,\r\n        because IMDB pages are curated by\r\n        <a\r\n          href=\"https://help.imdb.com/article/contribution/contribution-information/how-do-i-contribute-data-to-imdb/GVZTHQ48SWS47WDK?ref_=helpsect_contrib_1_2#\"\r\n          target=\"_blank\"\r\n          >volunteer contributors</a\r\n        >\r\n        rather than by the film’s distributors. ImagePlot, then, allows us to\r\n        perform a color study of the collection of theatrical posters,\r\n        indicating what shared visual characteristics define marketing\r\n        techniques of the generic witch film.\r\n      </p>\r\n    </div>\r\n    <div #step class=\"step\" data-step=\"2\">\r\n      <img\r\n        class=\"mobileImg\"\r\n        luminousLightbox\r\n        src=\"./assets/graphs/Alpha-BrightnessVsHuePolar.png\"\r\n        alt=\"ImagePlot of Brightness vs. Hue\"\r\n      />\r\n      <p>\r\n        We first rendered the posters as a polar visualization of brightness and\r\n        hue, which compares the relative lightness of the image to the\r\n        variations in colors or shades as they relate to the color wheel. The\r\n        majority of posters clustered around the center of the graph, which\r\n        means that, on average, those images use darker hues than ones toward\r\n        the edges. There were relatively few posters that used vibrant blue\r\n        hues, with the exceptions of <em>Bewitched</em> (Nora Ephron, 2005) and\r\n        <em>Sleeping Beauty</em> (Clyde Geronimi, 1959), and even fewer that\r\n        used green hues, excluding <em>Rosemary’s Baby</em>. Yet, if we consider\r\n        the films at the center of the graph, the generic witch film looks\r\n        different than expected. Where we might anticipate some combination of\r\n        warmer yellows and oranges, following the model of\r\n        <em>Practical Magic</em> (Griffin Dunne, 1998) or\r\n        <em>Halloweentown</em>, posters most commonly used black in combination\r\n        with colder blues and grays to suggest that the generic witch film\r\n        poster is icier, darker than expected. A surprising trend was the lack\r\n        of reds.\r\n      </p>\r\n    </div>\r\n    <div #step class=\"step\" data-step=\"3\">\r\n      <img\r\n        class=\"mobileImg\"\r\n        luminousLightbox\r\n        src=\"./assets/graphs/Alpha-BrightnessVsSaturationAxis.png\"\r\n        alt=\"ImagePlot of Brightness vs. Saturation (Axis)\"\r\n      />\r\n      <p>\r\n        We also organized these theatrical posters to compare brightness and\r\n        saturation along the x- and- y-axes respectively. Here, the\r\n        visualization indicates a trend of higher saturation in theatrical\r\n        posters, which generally aligns with the darker hues of our first graph.\r\n        But organizing the posters by brightness and saturation also reveals a\r\n        cluster of outliers not apparent in our first visualization. There is a\r\n        cluster of films—<em>The Wizard of Oz</em> (Victor Fleming, 1939),\r\n        <em>Little Witches</em> (Jane Simpson, 1996),\r\n        <em>The Crucible</em> (Nicholas Hytner, 1996), and\r\n        <em>Maleficent</em> (Robert Stromberg, 2014), among others—near the\r\n        bottom right corner that have the highest possible brightness and lower\r\n        color saturations. All predominantly white in hue, these posters range\r\n        across subgenres and historical periods.\r\n      </p>\r\n    </div>\r\n    <div #step class=\"step\" data-step=\"4\">\r\n      <img\r\n        class=\"mobileImg\"\r\n        luminousLightbox\r\n        src=\"./assets/graphs/Alpha-StillsBrightnessVsSaturation.png\"\r\n        alt=\"ImagePlot of (stills) Brightness vs. Saturation\"\r\n      />\r\n      <p>\r\n        Our visualization of film stills supports this analysis. For each film,\r\n        we collected the first image return from a Google Search for “[film\r\n        title] + film still.” Although the Google Search algorithm is partially\r\n        randomized, influenced by factors like the computer’s previous search\r\n        history, it also ranks pages based on their relevance to search terms\r\n        and allows for a study of how public discourse contextualizes each\r\n        <span\r\n          tippy\r\n          class=\"tooltip\"\r\n          data-tippy-content=\"We conducted our search from the same computer over a one-day window to eliminate differences between browsers on\r\n            different computers and any changes to available results. Occasionally, the selection of our film stills required\r\n            various editorial decisions, including selecting identical, higher resolution versions of film stills and excluding\r\n            returns from the incorrect film.\"\r\n          >film.*</span\r\n        >\r\n        As the graph shows, the majority of film stills maintain a lower\r\n        brightness and higher saturation. Yet there are several exceptions:\r\n        <em>Suspiria</em> (Dario Argento, 1977), <em>Teen Witch</em> (Dorain\r\n        Walker, 1989), <em>The Little Mermaid</em> (Ron Clements & John Musker,\r\n        1989)—nearly off the graph—<em>Halloweentown</em>, and\r\n        <em>The Wicker Man</em> (Neil LaBute, 2006).\r\n      </p>\r\n    </div>\r\n    <div #step class=\"step\" data-step=\"5\">\r\n      <h3>Textual Analysis Using SameDiff</h3>\r\n      <p>\r\n        <span class=\"dropcap\">T</span>urning from the visual similarity to\r\n        looking at the dialogue, we gathered cosine similarity scores for our\r\n        six benchmark films resulting in six distinct graphs, rendered using a\r\n        combination of RawGraphs and Adobe Illustrator. In all graphs, the\r\n        x-axis represents chronological time and the y-axis denotes the percent\r\n        similarity between a film and the potential prototypical film. We\r\n        included ratings because we thought that there would be some connection\r\n        or pattern in similarity between those films with similar ratings. While\r\n        this bore out in the made-for-TV witch films, beyond this cycle we don’t\r\n        see any significant ratings-based patterns.\r\n      </p>\r\n    </div>\r\n    <div #step class=\"step\" data-step=\"6\">\r\n      <img\r\n        class=\"mobileImg\"\r\n        luminousLightbox\r\n        src=\"./assets/graphs/Scatterplot_Halloweentown.png\"\r\n        alt=\"Scatterplot of Halloweentown\"\r\n      />\r\n      <img\r\n        class=\"mobileImg\"\r\n        luminousLightbox\r\n        src=\"./assets/graphs/Scatterplot_HarryPotter.png\"\r\n        alt=\"Scatterplot of Harry Potter\"\r\n      />\r\n      <p>\r\n        The graphs revealed a few unexpected trends. One of the most prominent\r\n        cycles is that of <em>Halloweentown</em>. Many of the closest films to\r\n        this are in fact other made-for-television witch films, such as\r\n        <em>Sabrina the Teenage Witch</em>. The success of\r\n        <em>Halloweentown</em> prompted several sequels, including\r\n        <em>Halloweentown II: Kalabar’s Revenge</em> (Mary Lambert, 2001),\r\n        <em>Halloweentown High</em> (Mark A. Z. Dippe, 2004), and\r\n        <em>Return to Halloweentown</em> (David Jackson, 2006). Meanwhile, the\r\n        Disney Channel also put out <em>Twitches</em> (Stuart Gillard, 2005) and\r\n        <em>Twitches, Too</em> (Stuary Gillard, 2007). This cycle is nested\r\n        within the genre; for example, <em>Halloweentown</em> and\r\n        <em>Witches of Eastwick</em> are 72 percent similar.\r\n      </p>\r\n      <p>\r\n        The <em>Harry Potter</em> films represent a distinct cycle but remain a\r\n        generic outlier. This underlines the ways in which\r\n        <em>Harry Potter</em> was not marketed as a witch film, even though half\r\n        the characters are witches. Despite the fact that the semantic elements\r\n        are present—the broomsticks, wands, cats and spells—the film’s dialogue\r\n        is quite dissimilar from other witch films. For example,\r\n        <em>Harry Potter and the Sorcerer’s Stone</em> is only 24 percent\r\n        similar to <em>The Witches of Eastwick</em>.\r\n      </p>\r\n    </div>\r\n    <div #step class=\"step\" data-step=\"7\">\r\n      <img\r\n        luminousLightbox\r\n        class=\"mobileImg\"\r\n        src=\"./assets/graphs/Scatterplot_SnowWhite.png\"\r\n        alt=\"Scatterplot of Snow White\"\r\n      />\r\n      <img\r\n        luminousLightbox\r\n        class=\"mobileImg\"\r\n        src=\"./assets/graphs/Scatterplot_BlairWitchProject.png\"\r\n        alt=\"Scatterplot of The Blair Witch Project\"\r\n      />\r\n      <p>\r\n        While <em>Harry Potter</em> represents an outlying cycle in the genre,\r\n        <em>The Blair Witch Project</em> and <em>Snow White</em> are outliers\r\n        all together. They are entirely dissimilar from the majority of films in\r\n        the genre and do not seem to initiate the production of dialogue-similar\r\n        films. <em>Snow White</em> is the highest grossing film in our corpus\r\n        with multiple theatrical releases. One would think that the second\r\n        highest grossing film and another heavy-hitter for Disney,\r\n        <em>Sleeping Beauty</em>, would have used similar language. Yet\r\n        <em>Sleeping Beauty</em> is only 18 percent similar to its studio\r\n        predecessor. In regards to our other outlier, the only films that\r\n        resembles <em>The Blair Witch Project</em> is <em>The Woods</em> at 52\r\n        percent, with all other films falling at or below 32 percent. Perhaps we\r\n        might say that <em>The Blair Witch Project</em> is a horror film first,\r\n        and a witch film second.\r\n      </p>\r\n    </div>\r\n    <div #step class=\"step\" data-step=\"8\">\r\n      <img\r\n        luminousLightbox\r\n        class=\"mobileImg\"\r\n        src=\"./assets/graphs/Scatterplot_WitchesOfEastwick.png\"\r\n        data-step=\"8\"\r\n        alt=\"Scatterplot of Witches of Eastwick\"\r\n      />\r\n      <img\r\n        luminousLightbox\r\n        class=\"mobileImg\"\r\n        src=\"./assets/graphs/Scatterplot_TheCraft.png\"\r\n        data-step=\"8\"\r\n        alt=\"Scatterplot of The Craft\"\r\n      />\r\n      <p>\r\n        If two prototypical, theatrical witch films seemed to emerge from this\r\n        study, it would be <em>The Witches of Eastwick</em> and\r\n        <em>The Craft</em>. Looking at the timeline of these graphs, we see an\r\n        uptick in the number of witch films produced after\r\n        <em>The Witches of Eastwick</em>. This could be explained by an uptick\r\n        in the sheer number of movies being made. However, it could also be tied\r\n        to the post-1970s increase in interest in Wicca and the concurrent\r\n        commodification of witchcraft or to greater recognition by production\r\n        companies of the attractiveness of the witch film as a genre. It is also\r\n        interesting that <em>The Witches of Eastwick</em> and\r\n        <em>The Craft</em> are 80 percent similar, despite the fact that they\r\n        are presumably geared toward distinct audiences: The first is about\r\n        three adult female friends having shared sexual, magical, and maternal\r\n        experiences, while the second is about the perils and promise of\r\n        ostracization and female friendship in high school. Both films have\r\n        garnered the majority of fan and scholarly attention in the genre, so it\r\n        is at the same time unsurprising that they coalesce at the level of\r\n        language.\r\n      </p>\r\n    </div>\r\n  </div>\r\n</section>\r\n","import {\r\n  Directive,\r\n  ElementRef,\r\n  OnInit,\r\n  AfterViewInit,\r\n  Input\r\n} from \"@angular/core\";\r\nimport Drift from \"src/assets/scripts/Drift\"; // not node_modules\r\n\r\nvar options = {\r\n  // Prefix for generated element class names (e.g. `my-ns` will\r\n  // result in classes such as `my-ns-pane`. Default `drift-`\r\n  // prefixed classes will always be added as well.\r\n  namespace: null,\r\n  // Whether the ZoomPane should show whitespace when near the edges.\r\n  showWhitespaceAtEdges: false,\r\n  // Whether the inline ZoomPane should stay inside\r\n  // the bounds of its image.\r\n\r\n  containInline: false,\r\n  // containInline: true,\r\n\r\n  // How much to offset the ZoomPane from the\r\n  // interaction point when inline.\r\n  inlineOffsetX: 0,\r\n  inlineOffsetY: 0,\r\n  // A DOM element to append the inline ZoomPane to.\r\n  inlineContainer: document.body,\r\n  // Which trigger attribute to pull the ZoomPane image source from.\r\n  sourceAttribute: \"src\",\r\n  // How much to magnify the trigger by in the ZoomPane.\r\n  // (e.g., `zoomFactor: 3` will result in a 900 px wide ZoomPane image\r\n  // if the trigger is displayed at 300 px wide)\r\n  zoomFactor: 3,\r\n  // A DOM element to append the non-inline ZoomPane to.\r\n  // Required if `inlinePane !== true`.\r\n\r\n  // paneContainer: document.querySelector('.chart'),\r\n\r\n  // When to switch to an inline ZoomPane. This can be a boolean or\r\n  // an integer. If `true`, the ZoomPane will always be inline,\r\n  // if `false`, it will switch to inline when `windowWidth <= inlinePane`\r\n\r\n  // inlinePane: true,\r\n  inlinePane: 375,\r\n\r\n  // If `true`, touch events will trigger the zoom, like mouse events.\r\n  handleTouch: true,\r\n  // If present (and a function), this will be called\r\n  // whenever the ZoomPane is shown.\r\n  // onShow: onShow,\r\n  // If present (and a function), this will be called\r\n  // whenever the ZoomPane is hidden.\r\n  // onHide: onHide,\r\n  // Add base styles to the page. See the \"Theming\"\r\n  // section of README.md for more information.\r\n  injectBaseStyles: true,\r\n  // An optional number that determines how long to wait before\r\n  // showing the ZoomPane because of a `mouseenter` event.\r\n  hoverDelay: 0,\r\n  // An optional number that determines how long to wait before\r\n  // showing the ZoomPane because of a `touchstart` event.\r\n  // It's unlikely that you would want to use this option, since\r\n  // \"tap and hold\" is much more intentional than a hover event.\r\n  touchDelay: 0,\r\n  // If true, a bounding box will show the area currently being previewed\r\n  // during mouse hover\r\n  hoverBoundingBox: false,\r\n  // If true, a bounding box will show the area currently being previewed\r\n  // during touch events\r\n  touchBoundingBox: false\r\n};\r\n\r\ntype RequiredRefs = {\r\n  scrollGraphic: ElementRef;\r\n  chart: ElementRef;\r\n  scrollText: ElementRef;\r\n};\r\n\r\n@Directive({\r\n  selector: \"[driftZoom]\"\r\n})\r\nexport class DriftzoomDirective implements OnInit, AfterViewInit {\r\n  // @Input() scrollGraphic: ElementRef;\r\n  @Input() refs: RequiredRefs;\r\n\r\n  public drift: Drift;\r\n  chart: HTMLElement;\r\n  text: HTMLElement;\r\n  graphic: HTMLElement;\r\n\r\n  constructor(public el: ElementRef) {\r\n    this.el = el;\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  ngAfterViewInit() {\r\n    this.chart = this.refs.chart.nativeElement;\r\n    this.text = this.refs.scrollText.nativeElement;\r\n    this.graphic = this.refs.scrollGraphic.nativeElement;\r\n\r\n    // initialize drift zoom once View is created only\r\n    this.drift = new Drift(this.el.nativeElement, {\r\n      ...options,\r\n      paneContainer: this.graphic,\r\n      onShow: this.onShow.bind(this), // must bind fn to access class scope\r\n      onHide: this.onHide.bind(this) // must bind fn to access class scope\r\n    });\r\n  }\r\n\r\n  onShow() {\r\n    this.chart.style.opacity = \"0.5\";\r\n    this.chart.classList.toggle(\"blurry\");\r\n    // imageSet.forEach(function(image){\r\n    // \timage.classList.toggle('blurry');\r\n    // });\r\n    this.text.classList.toggle(\"blurry\");\r\n    this.graphic.style.background = \"rgba(0, 0, 0, 0)\";\r\n  }\r\n\r\n  onHide() {\r\n    this.chart.style.opacity = \"1\";\r\n    this.chart.classList.toggle(\"blurry\");\r\n    // imageSet.forEach(function(image){\r\n    // \timage.classList.toggle('blurry');\r\n    // });\r\n    this.text.classList.toggle(\"blurry\");\r\n    this.graphic.style.background = \"rgba(0, 0, 0, 0)\";\r\n  }\r\n}\r\n","import { Directive, ElementRef, OnInit, AfterViewInit } from \"@angular/core\";\r\nimport { Luminous } from \"luminous-lightbox\";\r\n\r\nconst options = {\r\n  // Prefix for generated element class names (e.g. `my-ns` will\r\n  // result in classes such as `my-ns-lightbox`. Default `lum-`\r\n  // prefixed classes will always be added as well.\r\n  namespace: null,\r\n  // Which attribute to pull the lightbox image source from.\r\n  // sourceAttribute: 'href',\r\n  sourceAttribute: \"src\",\r\n  // Captions can be a literal string, or a function that receives the Luminous instance's trigger element as an argument and returns a string. Supports HTML, so use caution when dealing with user input.\r\n  caption: null,\r\n  // The event to listen to on the _trigger_ element: triggers opening.\r\n  openTrigger: \"click\",\r\n  // The event to listen to on the _lightbox_ element: triggers closing.\r\n  closeTrigger: \"click\",\r\n  // Allow closing by pressing escape.\r\n  closeWithEscape: true,\r\n  // Automatically close when the page is scrolled.\r\n  closeOnScroll: false,\r\n  // A selector defining what to append the lightbox element to.\r\n  appendToSelector: \"body\",\r\n  // If present (and a function), this will be called\r\n  // whenever the lightbox is opened.\r\n  onOpen: null,\r\n  // If present (and a function), this will be called\r\n  // whenever the lightbox is closed.\r\n  onClose: null,\r\n  // When true, adds the `imgix-fluid` class to the `img`\r\n  // inside the lightbox. See https://github.com/imgix/imgix.js\r\n  // for more information.\r\n  includeImgixJSClass: false,\r\n  // Add base styles to the page. See the \"Theming\"\r\n  // section of README.md for more information.\r\n  injectBaseStyles: true\r\n};\r\n\r\n@Directive({\r\n  selector: \"[luminousLightbox]\"\r\n})\r\nexport class LuminousLightboxDirective implements OnInit, AfterViewInit {\r\n  constructor(private el: ElementRef) {\r\n    this.el = el;\r\n  }\r\n\r\n  ngOnInit() {}\r\n\r\n  ngAfterViewInit() {\r\n    new Luminous(this.el.nativeElement, options);\r\n  }\r\n}\r\n","import { Directive, Input, ElementRef, OnInit } from \"@angular/core\";\r\nimport tippy from \"tippy.js\";\r\n\r\nconst tippyOptions: any = {\r\n  arrow: true,\r\n  size: \"large\",\r\n  interactive: true,\r\n  placement: \"bottom\",\r\n  delay: [200, 600]\r\n};\r\n\r\n@Directive({\r\n  selector: \"[tippy]\"\r\n})\r\nexport class TippyDirective implements OnInit {\r\n  // @Input('tippyOptions') public tippyOptions: object;\r\n\r\n  constructor(private el: ElementRef) {\r\n    this.el = el;\r\n  }\r\n\r\n  ngOnInit() {\r\n    // tippy(this.el.nativeElement, this.tippyOptions || {});\r\n    tippy(this.el.nativeElement, tippyOptions);\r\n  }\r\n}\r\n","import { Component, OnInit, Input } from \"@angular/core\";\r\n\r\n@Component({\r\n  selector: \"app-heading\",\r\n  template: `\r\n  <section [ngClass]=\"classes\">\r\n    <h3>{{ _title }}</h3>\r\n    <ng-content></ng-content>\r\n  </section>\r\n  `,\r\n  styles: []\r\n})\r\nexport class HeadingComponent implements OnInit {\r\n  @Input() classes: string;\r\n  @Input() _title: string;\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit() {}\r\n}\r\n","import { Component, OnInit, Input } from \"@angular/core\";\r\n\r\n@Component({\r\n  selector: \"app-section\",\r\n  templateUrl: \"./section.component.html\",\r\n  styleUrls: [\"./section.component.scss\"]\r\n})\r\nexport class SectionComponent implements OnInit {\r\n  @Input() classes: string;\r\n  @Input() _title: string;\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit() {}\r\n}\r\n","<section class=\"contained\" [ngClass]=\"classes\">\r\n  <h3>{{ _title }}</h3>\r\n  <ng-content></ng-content>\r\n</section>\r\n","import { NgModule } from \"@angular/core\";\r\nimport { CommonModule } from \"@angular/common\";\r\n\r\nimport { SectionComponent } from \"./components/section/section.component\";\r\nimport { HeadingComponent } from \"./components/heading/heading.component\";\r\n\r\n@NgModule({\r\n  declarations: [SectionComponent, HeadingComponent],\r\n  imports: [CommonModule],\r\n  exports: [SectionComponent, HeadingComponent]\r\n})\r\nexport class SharedModule {}\r\n","import { Component, OnInit } from \"@angular/core\";\r\n\r\n@Component({\r\n  selector: \"app-authors\",\r\n  templateUrl: \"./authors.component.html\",\r\n  styleUrls: [\"./authors.component.scss\"]\r\n})\r\nexport class AuthorsPageComponent implements OnInit {\r\n  constructor() {}\r\n\r\n  ngOnInit() {}\r\n}\r\n","<section class=\"contained hero\">\r\n  <h1 class=\"title\">Authors</h1>\r\n  <div class=\"\">\r\n    <h3><em>Bridget L. Sellers, Georgetown University</em></h3>\r\n    <p>\r\n      Sellers is a master’s candidate in English literature with a focus in new\r\n      media, film, and game studies. She currently serves as a research\r\n      assistant through the Georgetown Lannan Associateship.\r\n    </p>\r\n    <h3><em>Elizabeth Crowley Webber, Georgetown University</em></h3>\r\n    <p>\r\n      Crowley Webber is a master’s candidate in English literature with an\r\n      emphasis in film and media studies. She is the assistant manuscript editor\r\n      for <em>Cinema Journal</em>.\r\n    </p>\r\n    <h3><em>Tess Henthorne,* Georgetown University </em></h3>\r\n    <p>\r\n      Henthorne is a master's candidate in English literature. Her work focuses\r\n      on nineteenth-century British literature, digital humanities, and the\r\n      history of science. She is a graduate associate at the Center for New\r\n      Designs in Learning and Scholarship.\r\n    </p>\r\n    <h3><em>Benjamin Liden</em></h3>\r\n    <p>\r\n      Liden is a Washington, DC, based web developer. He can be reached at\r\n      benjamin.c.liden@gmail.com. You can find more of his work on\r\n      <a href=\"https://www.github.com/bcliden\">Github</a>.\r\n    </p>\r\n  </div>\r\n</section>\r\n","import { Component, OnInit } from \"@angular/core\";\r\n\r\n@Component({\r\n  selector: \"app-main\",\r\n  templateUrl: \"./main.component.html\",\r\n  styleUrls: [\"./main.component.scss\"]\r\n})\r\nexport class MainPageComponent implements OnInit {\r\n  constructor() {}\r\n\r\n  ngOnInit() {}\r\n}\r\n","<app-jumbo-title></app-jumbo-title>\r\n\r\n<app-section _title=\"Witches, Genres, Cycles\" classes=\"witchesgenrescycles\">\r\n  <p>\r\n    <span class=\"dropcap\">G</span>enre films have familiar narratives,\r\n    characters, and aesthetics. An extraterrestrial invades Earth. A slasher\r\n    slowly kills off a group of teenagers until one final girl escapes. A lone\r\n    outlaw rides off into the sunset. These patterns are a way for Hollywood to\r\n    capitalize on the popularity of one film, turning it into a modular and\r\n    repeatable type, a generic formula. While there is an overwhelming amount of\r\n    research on certain film genres, a number of others remain critically\r\n    understudied. Our research aims to establish a method for the digital\r\n    analysis of one corpus of understudied genre films, witch films—a genre\r\n    that, according to critic Sarah Ward, pivots on the tension between\r\n    oppositions to normality and structures of power (41).\r\n  </p>\r\n  <p>\r\n    Ward argues that “as a term, a practice and a label commonly denouncing\r\n    spiritual activities that defy dominant beliefs, witchcraft comes to the\r\n    screen loaded with meaning” (35). Although witches figure in almost every\r\n    society across the globe, they occupy a unique space in American culture and\r\n    history. From “witch trials” during the early colonial period to the\r\n    present-day politicized “witch-hunts,” America has obsessed over witches for\r\n    centuries. Culturally, the witch has been bound up in America’s tumultuous\r\n    relationships with religion, gender, and sexuality. Scholars tie popular\r\n    witch media to their corresponding historical moments, particularly moments\r\n    of unrest and paranoia—for example, one cannot extricate Arthur Miller’s\r\n    play <em>The Crucible</em> (1953) from McCarthyism, nor can one detach\r\n    <em>Rosemary’s Baby</em> (Roman Polanski, 1968) from the political unrest of\r\n    the 1960s (Ward 37-40). When witchcraft became aligned with the women’s\r\n    liberation movement in the 1970s, interest in and media representations of\r\n    witches boomed (Foltz). After this influx of interest, images of witches\r\n    appear more domesticated.\r\n  </p>\r\n\r\n  <p>\r\n    There have been few comprehensive studies of the witch film despite the\r\n    longevity of the genre, which began with the U.S. release of the silent film\r\n    <em>Häxan</em> in 1929 (Benjamin Christensen). As popular culture tamed the\r\n    witch, from violent or sexual threats to domesticated, loving, hard-working\r\n    women of capitalism, witch comedies began to appear (Gibson 184). ABC’s\r\n    <em>Bewitched</em> (1964&ndash;1972) set a precedent for the Disney-TV trend\r\n    toward light-hearted witch series and movies.\r\n    <em>Sabrina the Teenage Witch</em> aired on ABC from 1996 to 2000 (before\r\n    moving to the WB from 2000–2003). <em>Halloweentown</em> (Duwayne Dunham\r\n    1998) was the first in a cycle of Disney Channel Original Movies about\r\n    witches. Meanwhile, the slightly darker\r\n    <em>Buffy the Vampire Slayer</em> (1997–2003) and\r\n    <em>Charmed</em> (1998–2006), which were a mix of comedy, horror, and teen\r\n    drama, aired on the WB. Concurrent horror films such as\r\n    <em>The Blair Witch Project</em> (Daniel Myrick & Eduardo Sanchez, 1999),\r\n    and <em>The Conjuring</em> (James Wan, 2013) recall the fear of difference\r\n    that buoyed early representations of witches. The teen horror film\r\n    <em>The Craft</em> (Andrew Fleming, 1996) reflects both a potential for\r\n    liberation and regulation bound up in witchcraft. Sue Short, writing of\r\n    <em>The Craft</em>, notes the female characters’ willingness to accept their\r\n    status as outsiders and in fact embracing their exile as an “alternative to\r\n    existing norms” (105). Of course, in the end only one member of\r\n    <em>The Craft</em> coven—the most “normal” among the four teenage\r\n    girls—remains empowered. These film and television trends reflect a period\r\n    of the mass production of witch films, from the release of\r\n    <em>The Witches of Eastwick</em> (George Miller) in 1987 to the release of\r\n    <em>Harry Potter and the Deathly Hallows: Part Two</em> (David Yates) in\r\n    2011.\r\n  </p>\r\n  <p>\r\n    In 1973, Andrew Tudor centered sociological and psychological context in his\r\n    definition of genre, arguing that genre is “what we collectively believe it\r\n    to be” (139). That is, genre “is not a way in which a critic classifies\r\n    films for methodological purposes, but the much looser way in which an\r\n    audience classifies its films” (145). While scholars and fans widely label\r\n    witch films as such, what allows us to come to this agreement is much more\r\n    complex than simply pointing to commonalities. In short, a genre is defined\r\n    and created by cultural consensus. “Like film genres,” Amanda Klein writes,\r\n    “film cycles are a series of films associated with each other through shared\r\n    images, characters, settings or themes” (4). She goes on to establish the\r\n    difference between genre and cycle:\r\n  </p>\r\n  <blockquote>\r\n    However, while film genres are primarily defined by the repetition of key\r\n    images (their semantics) and themes (their syntax), film cycles are\r\n    primarily defined by how they are used (their pragmatics). In other words,\r\n    the formation and longevity of film cycles are a direct result of their\r\n    immediate financial viability as well as the public discourses circulating\r\n    around them, including film reviews, director interviews, studio-issued\r\n    press kits, movie posters, and theatrical trailers. (4)\r\n  </blockquote>\r\n  <p>\r\n    The center of film cycles are studios’ attempts to cater to audience desires\r\n    and expectations. If an audience enjoys a film (i.e., if a film earns a\r\n    studio impressive returns at the box office or garners fan attention), the\r\n    studio will copy some or all of it (e.g., the semantics or syntax) and graft\r\n    these elements onto a new film. Cycles are about films’ use-value and\r\n    profitability; these are commodities, usually produced as quickly as\r\n    possible. While cycles and genre function differently for our discussion of\r\n    witch films, both are crucial for understanding how generic formulas reflect\r\n    both audience and studio demands.\r\n  </p>\r\n</app-section>\r\n\r\n<app-section\r\n  _title=\"Digital Humanities Projects On Film\"\r\n  classes=\"projectsonfilm\"\r\n>\r\n  <p>\r\n    <span class=\"dropcap\">W</span>e seek to position this project within a\r\n    network of burgeoning scholarship on the digital analysis of film. With the\r\n    onset of data mining digital humanities projects, we are now equipped with\r\n    the tools for studying large-scale textual and visual trends more\r\n    efficiently.\r\n    <a href=\"http://moviesincolor.com/\" target=\"_blank\">Movies in Color</a>\r\n    analyzes the usage of color in film using color drop tools; the in-progress\r\n    project\r\n    <a href=\"https://www.distantviewing.org/\" target=\"_blank\"\r\n      >Distant Viewing</a\r\n    >\r\n    takes on the movement of images;\r\n    <a\r\n      href=\"https://www.ims.tuwien.ac.at/projects/digital-formalism\"\r\n      target=\"_blank\"\r\n      >Digital Formalism</a\r\n    >\r\n    examines visual elements of film to consider how formal techniques\r\n    contribute to overall narrative structures. The tool\r\n    <a href=\"http://www.scripthreads.org\" target=\"_blank\">ScripThreads</a>\r\n    identifies patterns of character interactions in screenplays. Meanwhile,\r\n    projects from <em>The Pudding</em>, such as\r\n    <a href=\"https://pudding.cool/2017/03/film-dialogue/\" target=\"_blank\"\r\n      >“Film Dialogue from 2,000 Screenplays, Broken Down by Gender and Age”</a\r\n    >\r\n    and\r\n    <a href=\"https://pudding.cool/2017/03/bechdel/\" target=\"_blank\"\r\n      >“Hollywood’s Gender Divide and Its Effect on Films,”</a\r\n    >\r\n    rely strictly on text mining and lack scholarly rigor.\r\n  </p>\r\n  <p>\r\n    Finding throughlines and divergences in thousands of hours of footage is\r\n    possible in ways that it hasn’t been before, but methodologies for this have\r\n    not yet been developed or tested. Considering that films are multimodal by\r\n    design, telling and showing stories through sound, visual, narrative, and\r\n    spectacle, the fact that all prior projects have stuck to either the text or\r\n    the visual component of films elides the reality of the cinematic form. This\r\n    is where our project hopes to intervene, first by doing a combined digital\r\n    analysis of both dialogue and visuals, with long term goals of incorporating\r\n    sound and moving images. At its core, this project is an experiment that\r\n    uses digital tools in order to understand film genre and cycles.\r\n  </p>\r\n</app-section>\r\n\r\n<app-scroller></app-scroller>\r\n\r\n<app-section _title=\"After the Witching Hour...\" classes=\"witchinghour\">\r\n  <p>\r\n    <span class=\"dropcap\">A</span>fter the peak production period of witch films\r\n    (1987&ndash;2011), the trends seem to change. In the last few years, the\r\n    number of action-adventure witch films has flourished. Here we refer to\r\n    <em>The Huntsman</em> films (Rupert Sanders, 2012; Cedric Nicolas-Troyan,\r\n    2016), <em>Hansel and Gretel: Witch Hunters</em> (Tommy Wirkola, 2013), and\r\n    <em>The Last Witch Hunter</em> (Breck Eisner, 2015). Alongside these, we see\r\n    a resurgence of independent witch films, such as\r\n    <em>The House of the Devil</em> (Ti West, 2009), <em>Antichrist</em> (Lars\r\n    von Trier, 2009), <em>The Witch</em> (Roger Eggers, 2015), and\r\n    <em>The Love Witch</em> (Anna Biller, 2016). The last two of these have\r\n    received critical acclaim and suggest possible new watershed moments,\r\n    although it is certainly too soon to tell. Nonetheless, they continue to\r\n    rely on certain semantic elements, alongside the syntactics of the witch in\r\n    American culture.\r\n  </p>\r\n  <p>\r\n    In phase two of the Digital Witch Project, we expect to add complexity and\r\n    detail to the project’s approach. First, we will run the rest of our corpus\r\n    through SameDiff, accompanied by a further exploration of specific language\r\n    use in the scripts using the language analysis tool Voyant. We will explore\r\n    further the affordances of ImagePlot, while also considering other visual\r\n    analysis tools. With another dimension of film in mind, we will search for\r\n    sound analysis tools. Next, we will add data about each film's production\r\n    company to see what patterns might emerge. Lastly, we will develop\r\n    interactive graphs for our data to make them more readable and explorable.\r\n  </p>\r\n</app-section>\r\n\r\n<app-section _title=\"Acknowledgements\" classes=\"acknowledgements\">\r\n  <p>\r\n    We would like to thank the following individuals for their feedback and\r\n    support: Amanda Phillips, Megan Martinsen, Melissa Jones, Matt Pavesich, and\r\n    Caetlin Benson-Allott.\r\n  </p>\r\n</app-section>\r\n","import { Component, OnInit } from \"@angular/core\";\r\n\r\n@Component({\r\n  selector: \"app-workscited\",\r\n  templateUrl: \"./workscited.component.html\",\r\n  styleUrls: [\"./workscited.component.scss\"]\r\n})\r\nexport class WorksCitedPageComponent implements OnInit {\r\n  constructor() {}\r\n\r\n  ngOnInit() {}\r\n}\r\n","<section class=\"contained hero\">\r\n  <h1 class=\"title\"><span>Works</span> Cited</h1>\r\n  <div class=\"\">\r\n    <h3>Works Consulted and Cited</h3>\r\n    <ul>\r\n      <li>\r\n        Altman, Rick. “A Semantic/Syntactic Approach to Film Genre.”\r\n        <em>Cinema Journal</em> vol. 23, no. 3, Spring 1984, pp. 6–18.\r\n      </li>\r\n      <li>\r\n        Friedman, Lyle et al. “Hollywood’s Gender Divide and its Effect on\r\n        Films: Examining the Gender of Writers, Producers, and Directors Who\r\n        Make Films that Failed the Bechdel Test.” <em>The Pudding</em>,\r\n        <a href=\"https://pudding.cool/2017/03/bechdel\"\r\n          >pudding.cool/2017/03/bechdel</a\r\n        >. Accessed March 27 2018.\r\n      </li>\r\n      <li>\r\n        Gibson, Marion. “‘We Will Not Fly Silently into the Night’” and “Witches\r\n        in the Family: Comedy, Drama, and the Acceptance of American Witches.”\r\n        <em>Witchcraft: Myths in American Culture</em>. Routledge, 2007, pp.\r\n        170-223.\r\n      </li>\r\n      <li>\r\n        Grindon, Leger. “Cycles and Clusters: The Shape of Film Genre History.”\r\n        <em>Film Genre Reader IV</em>, edited by Keith Barry Grant, U Texas P,\r\n        2012, pp. 42–59.\r\n      </li>\r\n      <li>\r\n        Heftberger, Adelheid. “Do Computers Dream of Cinema? Film Data for\r\n        Computer Analysis and Visualization.”\r\n        <em>Understanding Digital Humanities</em>, edited by David M. Berry,\r\n        Palgrave Macmillan, 2012, pp. 210-223.\r\n      </li>\r\n      <li>\r\n        Hutton, Ronald. “The Global Contexts.”\r\n        <em>The Witch: A History of Fear from Ancient Times to the Present</em>.\r\n        Yale UP, 2017, pp. 3-43.\r\n      </li>\r\n      <li>\r\n        Hoyt, Eric, et al. “Visualizing and Analyzing the Hollywood Screenplay\r\n        with ScripThreads,” <em>DHQ: Digital Humanities Quarterly</em>, vol. 8,\r\n        no. 4, 2014,\r\n        <a\r\n          href=\"http://www.digitalhumanities.org/dhq/vol/8/4/000190/000190.html\"\r\n          >www.digitalhumanities.org/dhq/vol/8/4/000190/000190.html</a\r\n        >.\r\n      </li>\r\n      <li>\r\n        “ImagePlot.” Software Studies Initiative, Calit2 and The Graduate\r\n        Center, CUNY,\r\n        <a href=\"http://lab.softwarestudies.com/p/imageplot.html#features1\"\r\n          >lab.softwarestudies.com/p/imageplot.html#features1</a\r\n        >. Accessed 28 Mar. 2018.\r\n      </li>\r\n      <li>\r\n        Klein, Amanda Ann.\r\n        <em\r\n          >American Film Cycles: Reframing Genres, Screening Social Problems, &\r\n          Defining Subcultures</em\r\n        >. U Texas P, 2011.\r\n      </li>\r\n      <li>\r\n        “SameDiff.” DataBasic, MIT Center for Civic Media and Engagement Lab,\r\n        <a href=\"https://databasic.io/en/samediff\">databasic.io/en/samediff</a>.\r\n        Accessed 28 Mar. 2018.\r\n      </li>\r\n      <li>\r\n        Schatz, Thomas. “The Structural Influence: New Directions in Film Genre\r\n        Study.” <em>Quarterly Review of Film Studies</em>, vol. 2, no. 3, August\r\n        1977, pp. 302–312.\r\n      </li>\r\n      <li>\r\n        Short, Sue.\r\n        <em>Misfit Sisters: Screen Horror as Female Rites of Passage</em>.\r\n        Palgrave Macmillan, 2006.\r\n      </li>\r\n      <li>\r\n        Ward, Sarah. “All of Them Witch: Individuality, Conformity, and the\r\n        Occult on Screen.” <em>Screen Education</em>, no. 83, pp. 34-41.\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</section>\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from \"@angular/core\";\r\nimport { platformBrowserDynamic } from \"@angular/platform-browser-dynamic\";\r\n\r\n// this is a necessary polyfill for scrollama\r\nimport \"intersection-observer\";\r\n\r\nimport { AppModule } from \"./app/app.module\";\r\nimport { environment } from \"./environments/environment\";\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic()\r\n  .bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"]}